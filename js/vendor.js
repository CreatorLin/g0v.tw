"use strict";function AngularFire(e,t,n,i){this._q=e,this._parse=t,this._timeout=n,this._initial=!0,this._remoteValue=!1,this._fRef="string"==typeof i?new Firebase(i):i}angular.module("firebase",[]).value("Firebase",Firebase),angular.module("firebase").factory("angularFire",["$q","$parse","$timeout",function(e,t,n){return function(i,o,a,r){var s=new AngularFire(e,t,n,i);return s.associate(o,a,r)}}]),AngularFire.prototype={associate:function(e,t,n){var i=this;void 0==n&&(n=[]);var o=this._q.defer(),a=o.promise;return this._fRef.on("value",function(a){var r=!1;if(o&&(r=o,o=!1),i._remoteValue=n,a&&void 0!=a.val()){var s=a.val();if(typeof s!=typeof n)return i._log("Error: type mismatch"),void 0;var c=Object.prototype.toString;if(c.call(n)!=c.call(s))return i._log("Error: type mismatch"),void 0;if(i._remoteValue=angular.copy(s),angular.equals(s,i._parse(t)(e)))return}i._timeout(function(){i._resolve(e,t,r,i._remoteValue)})}),a},disassociate:function(){var e=this;e._unregister&&e._unregister(),this._fRef.off("value")},_resolve:function(e,t,n,i){var o=this;this._parse(t).assign(e,angular.copy(i)),this._remoteValue=angular.copy(i),n&&(n.resolve(function(){o.disassociate()}),this._watch(e,t))},_watch:function(e,t){var n=this;n._unregister=e.$watch(t,function(){if(n._initial)return n._initial=!1,void 0;var i=JSON.parse(angular.toJson(n._parse(t)(e)));angular.equals(i,n._remoteValue)||n._fRef.ref().set(i)},!0),e.$on("$destroy",function(){n.disassociate()})},_log:function(e){console&&console.log&&console.log(e)}},angular.module("firebase").factory("angularFireCollection",["$timeout",function(e){return function(t,n){function i(e,t){this.$ref=e.ref(),this.$id=e.name(),this.$index=t,angular.extend(this,{priority:e.getPriority()},e.val())}function o(e){return e?d[e]+1:0}function a(e,t){d[t.$id]=e,f.splice(e,0,t)}function r(e){var t=d[e];f.splice(t,1),d[e]=void 0}function s(e,t){f[e]=t}function c(e,t,n){f.splice(e,1),f.splice(t,0,n),l(e,t)}function l(e,t){var n=f.length;t=t||n,t>n&&(t=n);for(var i=e;t>i;i++){var o=f[i];o.$index=d[o.$id]=i}}var u,d={},f=[];return u="string"==typeof t?new Firebase(t):t,n&&"function"==typeof n&&u.once("value",n),u.on("child_added",function(t,n){e(function(){var e=o(n);a(e,new i(t,e)),l(e)})}),u.on("child_removed",function(t){e(function(){var e=t.name(),n=d[e];r(e),l(n)})}),u.on("child_changed",function(t,n){e(function(){var e=d[t.name()],a=o(n),r=new i(t,e);s(e,r),a!==e&&c(e,a,r)})}),u.on("child_moved",function(t,n){e(function(){var e=d[t.name()],i=o(n),a=f[e];c(e,i,a)})}),f.getByName=function(e){return f[d[e]]},f.add=function(e,t){var n;return n=t?u.ref().push(e,t):u.ref().push(e)},f.remove=function(e,t){var n=angular.isString(e)?f[d[e]]:e;t?n.$ref.remove(t):n.$ref.remove()},f.update=function(e,t){var n=angular.isString(e)?f[d[e]]:e,i={};angular.forEach(n,function(e,t){0!==t.indexOf("$")&&(i[t]=e)}),t?n.$ref.set(i,t):n.$ref.set(i)},f}}]),angular.module("firebase").factory("angularFireAuth",["$rootScope","$parse","$timeout","$location","$route",function(e,t,n,i,o){function a(e){var t=e.split(".");if(!t instanceof Array||3!==t.length)throw Error("Invalid JWT");var n=t[1];return JSON.parse(decodeURIComponent(escape(window.atob(n))))}function r(e,i,o,a){i&&n(function(){t(i).assign(e,o),a()})}function s(e,t,n){e.authRequired&&!n._authenticated&&(n._redirectTo=void 0===e.pathTo?i.path():e.pathTo===t?"/":e.pathTo,i.replace(),i.path(t))}return{initialize:function(t,n){var i=this;if(n=n||{},this._scope=e,n.scope&&(this._scope=n.scope),n.name&&(this._name=n.name),this._cb=function(){},n.callback&&"function"==typeof n.callback&&(this._cb=n.callback),this._redirectTo=null,this._authenticated=!1,n.path&&(o.current&&s(o.current,n.path,i),e.$on("$routeChangeStart",function(e,t){s(t,n.path,i)})),this._ref=new Firebase(t),n.simple&&n.simple===!1)return r(this._scope,this._name,null),void 0;if(!window.FirebaseSimpleLogin){var a=Error("FirebaseSimpleLogin undefined, did you include firebase-simple-login.js?");return e.$broadcast("angularFireAuth:error",a),void 0}var c=new FirebaseSimpleLogin(this._ref,function(t,n){i._cb(t,n),t?e.$broadcast("angularFireAuth:error",t):n?i._loggedIn(n):i._loggedOut()});this._authClient=c},login:function(t,n){switch(t){case"github":case"persona":case"twitter":case"facebook":case"password":if(this._authClient)this._authClient.login(t,n);else{var i=Error("Simple Login not initialized");e.$broadcast("angularFireAuth:error",i)}break;default:var o,r=this;try{o=a(t),this._ref.auth(t,function(t){t?e.$broadcast("angularFireAuth:error",t):r._loggedIn(o)})}catch(s){e.$broadcast("angularFireAuth:error",s)}}},logout:function(){this._authClient?this._authClient.logout():(this._ref.unauth(),this._loggedOut())},_loggedIn:function(t){var n=this;this._authenticated=!0,r(this._scope,this._name,t,function(){e.$broadcast("angularFireAuth:login",t),n._redirectTo&&(i.replace(),i.path(n._redirectTo),n._redirectTo=null)})},_loggedOut:function(){this._authenticated=!1,r(this._scope,this._name,null,function(){e.$broadcast("angularFireAuth:logout")})}}}]),!function(e){var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),o=this.$element.offset(),a=this.options.offset,r=a.bottom,s=a.top,c="affix affix-top affix-bottom";"object"!=typeof a&&(r=s=a),"function"==typeof s&&(s=a.top()),"function"==typeof r&&(r=a.bottom()),t=null!=this.unpin&&i+this.unpin<=o.top?!1:null!=r&&o.top+this.$element.height()>=n-r?"bottom":null!=s&&s>=i?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?o.top-i:null,this.$element.removeClass(c).addClass("affix"+(t?"-"+t:"")))}},e.fn.affix=function(n){return this.each(function(){var i=e(this),o=i.data("affix"),a="object"==typeof n&&n;o||i.data("affix",o=new t(this,a)),"string"==typeof n&&o[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),!function(e){var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,o=e(this),a=o.attr("data-target");a||(a=o.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),i=e(a),t&&t.preventDefault(),i.length||(i=o.hasClass("alert")?o:o.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())},e.fn.alert=function(t){return this.each(function(){var i=e(this),o=i.data("alert");o||i.data("alert",o=new n(this)),"string"==typeof t&&o[t].call(i)})},e.fn.alert.Constructor=n,e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),o=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[o]()),n[o](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var i=e(this),o=i.data("button"),a="object"==typeof n&&n;o||i.data("button",o=new t(this,a)),"toggle"==n?o.toggle():n&&o.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),i=n.parent().children(),o=i.index(n),a=this;if(!(t>i.length-1||0>t))return this.sliding?this.$element.one("slid",function(){a.to(t)}):o==t?this.pause().cycle():this.slide(t>o?"next":"prev",e(i[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var i,o=this.$element.find(".item.active"),a=n||o[t](),r=this.interval,s="next"==t?"left":"right",c="next"==t?"first":"last",l=this;if(this.sliding=!0,r&&this.pause(),a=a.length?a:this.$element.find(".item")[c](),i=e.Event("slide",{relatedTarget:a[0]}),!a.hasClass("active")){if(e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;a.addClass(t),a[0].offsetWidth,o.addClass(s),a.addClass(s),this.$element.one(e.support.transition.end,function(){a.removeClass([t,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;o.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return r&&this.cycle(),this}}},e.fn.carousel=function(n){return this.each(function(){var i=e(this),o=i.data("carousel"),a=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),r="string"==typeof n?n:a.slide;o||i.data("carousel",o=new t(this,a)),"number"==typeof n?o.to(n):r?o[r]():a.interval&&o.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(document).on("click.carousel.data-api","[data-slide]",function(t){var n,i=e(this),o=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=e.extend({},o.data(),i.data());o.carousel(a),t.preventDefault()})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,i,o;if(!this.transitioning){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(o=i.data("collapse"),o&&o.transitioning)return;i.collapse("hide"),o||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;this.transitioning||(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var o=this,a=function(){"show"==n.type&&o.reset(),o.transitioning=0,o.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,a):a())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var i=e(this),o=i.data("collapse"),a="object"==typeof n&&n;o||i.data("collapse",o=new t(this,a)),"string"==typeof n&&o[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),o=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),a=e(o).data("collapse")?"toggle":i.data();i[e(o).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(o).collapse(a)})}(window.jQuery),!function(e){function t(){e(i).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,i=t.attr("data-target");return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=e(i),n.length||(n=t.parent()),n}var i="[data-toggle=dropdown]",o=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};o.prototype={constructor:o,toggle:function(){var i,o,a=e(this);if(!a.is(".disabled, :disabled"))return i=n(a),o=i.hasClass("open"),t(),o||(i.toggleClass("open"),a.focus()),!1},keydown:function(t){var i,o,a,r,s;if(/(38|40|27)/.test(t.keyCode)&&(i=e(this),t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled"))){if(a=n(i),r=a.hasClass("open"),!r||r&&27==t.keyCode)return i.click();o=e("[role=menu] li:not(.divider) a",a),o.length&&(s=o.index(o.filter(":focus")),38==t.keyCode&&s>0&&s--,40==t.keyCode&&o.length-1>s&&s++,~s||(s=0),o.eq(s).focus())}}},e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new o(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=o,e(document).on("click.dropdown.data-api touchstart.dropdown.data-api",t).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",i,o.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",i+", [role=menu]",o.prototype.keydown)}(window.jQuery),!function(e){var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var i=e(this),o=i.data("modal"),a=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);o||i.data("modal",o=new t(this,a)),"string"==typeof n?o[n]():a.show&&o.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),o=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),n.data());t.preventDefault(),o.modal(a).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){function t(t,n){var i,o=e.proxy(this.process,this),a=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=a.on("scroll.scroll-spy.data-api",o),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),i=/^#\w/.test(n)&&e(n);return i&&i.length&&[[i.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),o=this.offsets,a=this.targets,r=this.activeTarget;if(t>=i)return r!=(e=a.last()[0])&&this.activate(e);for(e=o.length;e--;)r!=a[e]&&t>=o[e]&&(!o[e+1]||o[e+1]>=t)&&this.activate(a[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),o=i.data("scrollspy"),a="object"==typeof n&&n;o||i.data("scrollspy",o=new t(this,a)),"string"==typeof n&&o[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,o=this.element,a=o.closest("ul:not(.dropdown-menu)"),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),o.parent("li").hasClass("active")||(t=a.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),o.trigger(i),i.isDefaultPrevented()||(n=e(r),this.activate(o.parent("li"),a),this.activate(n,n.parent(),function(){o.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var a=n.find("> .active"),r=i&&e.support.transition&&a.hasClass("fade");r?a.one(e.support.transition.end,o):o(),a.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var i=e(this),o=i.data("tab");o||i.data("tab",o=new t(this)),"string"==typeof n&&o[n]()})},e.fn.tab.Constructor=t,e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],o=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):o.push(t):n.push(t);return n.concat(i,o)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,i){return t=e(n.options.item).attr("data-value",i),t.find("a").html(n.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(){var e=this;setTimeout(function(){e.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var i=e(this),o=i.data("typeahead"),a="object"==typeof n&&n;o||i.data("typeahead",o=new t(this,a)),"string"==typeof n&&o[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);n.data("typeahead")||(t.preventDefault(),n.typeahead(n.data()))})}(window.jQuery),!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window?window.jade=e():"undefined"!=typeof global?global.jade=e():"undefined"!=typeof self&&(self.jade=e())}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);throw Error("Cannot find module '"+r+"'")}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){var n=t[r][1][e];return o(n?n:e)},l,l.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;i.length>r;r++)o(i[r]);return o}({1:[function(e,t,n){function i(e){return null!=e&&""!==e}function o(e){return Array.isArray(e)?e.map(o).filter(i).join(" "):e}n.merge=function a(e,t){if(1===arguments.length){for(var n=e[0],o=1;e.length>o;o++)n=a(n,e[o]);return n}var r=e["class"],s=t["class"];(r||s)&&(r=r||[],s=s||[],Array.isArray(r)||(r=[r]),Array.isArray(s)||(s=[s]),e["class"]=r.concat(s).filter(i));for(var c in t)"class"!=c&&(e[c]=t[c]);return e},n.joinClasses=o,n.cls=function(e,t){for(var i=[],a=0;e.length>a;a++)t&&t[a]?i.push(n.escape(o([e[a]]))):i.push(o(e[a]));var r=o(i);return r.length?' class="'+r+'"':""},n.attr=function(e,t,i,o){return"boolean"==typeof t||null==t?t?" "+(o?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof t?" "+e+"='"+JSON.stringify(t).replace(/'/g,"&apos;")+"'":i?" "+e+'="'+n.escape(t)+'"':" "+e+'="'+t+'"'},n.attrs=function(e,t){var i=[],a=Object.keys(e);if(a.length)for(var r=0;a.length>r;++r){var s=a[r],c=e[s];"class"==s?(c=o(c))&&i.push(" "+s+'="'+c+'"'):i.push(n.attr(s,c,!1,t))}return i.join("")},n.escape=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},n.rethrow=function r(t,n,i,o){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&n||o))throw t.message+=" on line "+i,t;try{o=o||e("fs").readFileSync(n,"utf8")}catch(a){r(t,null,i)}var s=3,c=o.split("\n"),l=Math.max(i-s,0),u=Math.min(c.length,i+s),s=c.slice(l,u).map(function(e,t){var n=t+l+1;return(n==i?"  > ":"    ")+n+"| "+e}).join("\n");throw t.path=n,t.message=(n||"Jade")+":"+i+"\n"+s+"\n\n"+t.message,t}},{fs:2}],2:[function(){},{}]},{},[1])(1)}),angular.module("btford.markdown",[]).directive("btfMarkdown",function(){var e=new Showdown.converter;return{restrict:"AE",link:function(t,n,i){if(i.btfMarkdown)t.$watch(i.btfMarkdown,function(t){var i=e.makeHtml(t);n.html(i)});else{var o=e.makeHtml(n.text());n.html(o)}}}}),!function(e,t,n,i){e.fn.accordion=function(t){var n,o=e(this),a=(new Date).getTime(),r=[],s=arguments[0],c="string"==typeof s,l=[].slice.call(arguments,1);return o.each(function(){var u,d=e.isPlainObject(t)?e.extend(!0,{},e.fn.accordion.settings,t):e.extend({},e.fn.accordion.settings),f=d.className,m=d.namespace,p=d.selector,g=d.error,h="."+m,v="module-"+m,b=o.selector||"",y=e(this),w=y.find(p.title),x=y.find(p.content),C=this,T=y.data(v);u={initialize:function(){u.debug("Initializing accordion with bound events",y),w.on("click"+h,u.event.click),u.instantiate()},instantiate:function(){T=u,y.data(v,u)},destroy:function(){u.debug("Destroying previous accordion for",y),y.removeData(v),w.off(h)},event:{click:function(){u.verbose("Title clicked",this);var t=e(this),n=w.index(t);u.toggle(n)},resetStyle:function(){u.verbose("Resetting styles on element",this),e(this).attr("style","").removeAttr("style").children().attr("style","").removeAttr("style")}},toggle:function(e){u.debug("Toggling content content at index",e);var t=w.eq(e),n=t.next(x),i=n.is(":visible");i?d.collapsible?u.close(e):u.debug("Cannot close accordion content collapsing is disabled"):u.open(e)},open:function(t){var n=w.eq(t),i=n.next(x),o=n.siblings(p.title).filter("."+f.active),a=o.next(w),r=o.size()>0;i.is(":animated")||(u.debug("Opening accordion content",n),d.exclusive&&r&&(o.removeClass(f.active),a.stop().children().animate({opacity:0},d.duration,u.event.resetStyle).end().slideUp(d.duration,d.easing,function(){a.removeClass(f.active).attr("style","").removeAttr("style").children().attr("style","").removeAttr("style")})),n.addClass(f.active),i.stop().children().attr("style","").removeAttr("style").end().slideDown(d.duration,d.easing,function(){i.addClass(f.active).attr("style","").removeAttr("style"),e.proxy(d.onOpen,i)(),e.proxy(d.onChange,i)()}))},close:function(t){var n=w.eq(t),i=n.next(x);u.debug("Closing accordion content",i),n.removeClass(f.active),i.removeClass(f.active).show().stop().children().animate({opacity:0},d.duration,u.event.resetStyle).end().slideUp(d.duration,d.easing,function(){i.attr("style","").removeAttr("style"),e.proxy(d.onClose,i)(),e.proxy(d.onChange,i)()})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},internal:function(t,n){return u.debug("Changing internal",t,n),n===i?u[t]:(e.isPlainObject(t)?e.extend(!0,u,t):u[t]=n,void 0)},debug:function(){d.debug&&(d.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,d.name+":"),u.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),u.verbose.apply(console,arguments)))},error:function(){u.error=Function.prototype.bind.call(console.error,console,d.name+":"),u.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;d.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,r.push({Element:C,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,100)},display:function(){var t=d.name+":",n=0;a=!1,clearTimeout(u.performance.timer),e.each(r,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",b&&(t+=" '"+b+"'"),(console.group!==i||console.table!==i)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,o,a){var r,s,c;return o=o||l,a=C||a,"string"==typeof t&&T!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(T[a])&&n!=r)T=T[a];else{if(T[a]!==i)return s=T[a],!1;if(!e.isPlainObject(T[o])||n==r)return T[o]!==i?(s=T[o],!1):(u.error(g.method,t),!1);T=T[o]}})),e.isFunction(s)?c=s.apply(a,o):s!==i&&(c=s),e.isArray(n)?n.push(c):n!==i?n=[n,c]:c!==i&&(n=c),s}},c?(T===i&&u.initialize(),u.invoke(s)):(T!==i&&u.destroy(),u.initialize())}),n!==i?n:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!0,verbose:!0,performance:!0,exclusive:!0,collapsible:!0,duration:500,easing:"easeInOutQuint",onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active"},selector:{title:".title",content:".content"}},e.extend(e.easing,{easeInOutQuint:function(e,t,n,i,o){return 1>(t/=o/2)?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n
}})}(jQuery,window,document),function(e,t,n,i){e.api=e.fn.api=function(n){var o,a,r=e.extend(!0,{},e.api.settings,n),s="function"!=typeof this?this:e("<div/>"),c=r.stateContext?e(r.stateContext):e(s),l="object"==typeof this?e(s):c,u=this,d=(new Date).getTime(),f=[],m=l.selector||"",p=r.namespace+"-module",g=r.className,h=r.metadata,v=r.error,b=l.data(p),y=arguments[0],w=b!==i&&"string"==typeof y,x=[].slice.call(arguments,1);return o={initialize:function(){var n,a,s,u,d,f,m=(new Date).getTime(),p={},b={};return r.serializeForm&&e(this).toJSON()!==i&&(p=o.get.formData(),o.debug("Adding form data to API Request",p),e.extend(!0,r.data,p)),n=e.proxy(r.beforeSend,l)(r),n===i||n?(u=o.get.url(o.get.templateURL()))?(s=e.Deferred().always(function(){r.stateContext&&c.removeClass(g.loading),e.proxy(r.complete,l)()}).done(function(t){o.debug("API request successful"),"json"==r.dataType?t.error!==i?e.proxy(r.failure,c)(t.error,r,l):e.isArray(t.errors)?e.proxy(r.failure,c)(t.errors[0],r,l):e.proxy(r.success,c)(t,r,l):e.proxy(r.success,c)(t,r,l)}).fail(function(t,n,a){var s,l=r.error[n]!==i?r.error[n]:a;if(t!==i)if(t.readyState!==i&&4==t.readyState){if(200!=t.status&&a!==i&&""!==a)o.error(u.statusMessage+a);else if("error"==n&&"json"==r.dataType)try{s=e.parseJSON(t.responseText),s&&s.error!==i&&(l=s.error)}catch(u){o.error(u.JSONParse)}c.removeClass(g.loading).addClass(g.error),r.errorLength>0&&setTimeout(function(){c.removeClass(g.error)},r.errorLength),o.debug("API Request error:",l),e.proxy(r.failure,c)(l,r,this)}else o.debug("Request Aborted (Most likely caused by page change)")}),e.extend(!0,b,r,{success:function(){},failure:function(){},complete:function(){},type:r.method||r.type,data:d,url:u,beforeSend:r.beforeXHR}),r.stateContext&&c.addClass(g.loading),r.progress&&(o.verbose("Adding progress events"),e.extend(!0,b,{xhr:function(){var n=new t.XMLHttpRequest;return n.upload.addEventListener("progress",function(t){var n;t.lengthComputable&&(n=Math.round(1e4*(t.loaded/t.total))/100+"%",e.proxy(r.progress,c)(n,t))},!1),n.addEventListener("progress",function(t){var n;t.lengthComputable&&(n=Math.round(1e4*(t.loaded/t.total))/100+"%",e.proxy(r.progress,c)(n,t))},!1),n}})),o.verbose("Creating AJAX request with settings: ",b),f=e.ajax(b).always(function(){a=r.loadingLength-((new Date).getTime()-m),r.loadingDelay=0>a?0:a}).done(function(e){var t=this;setTimeout(function(){s.resolveWith(t,[e])},r.loadingDelay)}).fail(function(e,t,n){var i=this;"abort"!=t?setTimeout(function(){s.rejectWith(i,[e,t,n])},r.loadingDelay):c.removeClass(g.error).removeClass(g.loading)}),r.stateContext&&l.data(h.promise,s).data(h.xhr,f),void 0):(o.error(v.missingURL),o.reset(),void 0):(o.error(v.beforeSend),o.reset(),void 0)},get:{formData:function(){return l.closest("form").toJSON()},templateURL:function(){var e,t=l.data(r.metadata.action)||r.action||!1;return t&&(o.debug("Creating url for: ",t),r.api[t]!==i?e=r.api[t]:o.error(v.missingAction)),r.url&&(e=r.url,o.debug("Getting url",e)),e},url:function(t,n){var a;return t&&(a=t.match(r.regExpTemplate),n=n||r.urlData,a&&(o.debug("Looking for URL variables",a),e.each(a,function(r,s){var c=s.substr(2,s.length-3),u=e.isPlainObject(n)&&n[c]!==i?n[c]:l.data(c)!==i?l.data(c):n[c];if(o.verbose("Looking for variable",c,l,l.data(c),n[c]),u===!1)o.debug("Removing variable from URL",a),t=t.replace("/"+s,"");else{if(u===i||!u)return o.error(v.missingParameter+c),t=!1,!1;t=t.replace(s,u)}}))),t}},reset:function(){l.data(h.promise,!1).data(h.xhr,!1),c.removeClass(g.error).removeClass(g.loading)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,r,t);else{if(n===i)return r[t];r[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},debug:function(){r.debug&&(r.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,r.name+":"),o.debug.apply(console,arguments)))},verbose:function(){r.verbose&&r.debug&&(r.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,r.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;r.performance&&(t=(new Date).getTime(),i=d||t,n=t-i,d=t,f.push({Element:u,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,100)},display:function(){var t=r.name+":",n=0;d=!1,clearTimeout(o.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",m&&(t+=" '"+m+"'"),(console.group!==i||console.table!==i)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,r){var s,c,l;return n=n||x,r=u||r,"string"==typeof t&&b!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,a){var r=n!=s?a+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(b[a])&&n!=s)b=b[a];else{if(!e.isPlainObject(b[r])||n==s)return b[a]!==i?(c=b[a],!1):b[r]!==i?(c=b[r],!1):(o.error(v.method,t),!1);b=b[r]}})),e.isFunction(c)?l=c.apply(r,n):c!==i&&(l=c),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),c}},w?(b===i&&o.initialize(),o.invoke(y)):(b!==i&&o.destroy(),o.initialize()),a!==i?a:this},e.fn.apiButton=function(t){return e(this).each(function(){var n,i=e(this),o=e(this).selector||"",a=e.isFunction(t)?e.extend(!0,{},e.api.settings,e.fn.apiButton.settings,{stateContext:this,success:t}):e.extend(!0,{},e.api.settings,e.fn.apiButton.settings,{stateContext:this},t);n={initialize:function(){a.context&&""!==o?e(a.context).on(o,"click."+a.namespace,n.click):i.on("click."+a.namespace,n.click)},click:function(){a.filter&&0!==e(this).filter(a.filter).size()||e.proxy(e.api,this)(a)}},n.initialize()}),this},e.api.settings={name:"API",namespace:"api",debug:!0,verbose:!0,performance:!0,api:{},beforeSend:function(e){return e},beforeXHR:function(){},success:function(){},complete:function(){},failure:function(){},progress:!1,error:{missingAction:"API action used but no url was defined",missingURL:"URL not specified for the API action",missingParameter:"Missing an essential URL parameter: ",timeout:"Your request timed out",error:"There was an error with your request",parseError:"There was an error parsing your request",JSONParse:"JSON could not be parsed during error handling",statusMessage:"Server gave an error: ",beforeSend:"The before send function has aborted the request",exitConditions:"API Request Aborted. Exit conditions met"},className:{loading:"loading",error:"error"},metadata:{action:"action",promise:"promise",xhr:"xhr"},regExpTemplate:/\{\$([A-z]+)\}/g,action:!1,url:!1,urlData:!1,serializeForm:!1,stateContext:!1,method:"get",data:{},dataType:"json",cache:!0,loadingLength:200,errorLength:2e3},e.fn.apiButton.settings={filter:".disabled, .loading",context:!1,stateContext:!1}}(jQuery,window,document),function(e,t,n,i){e.fn.colorize=function(t){var n=e.extend(!0,{},e.fn.colorize.settings,t),o=arguments||!1;return e(this).each(function(t){var a,r,s,c,l,u,d,f,m=e(this),p=e("<canvas />")[0],g=e("<canvas />")[0],h=e("<canvas />")[0],v=new Image,b=n.colors,y=(n.paths,n.namespace),w=n.error,x=m.data("module-"+y);return f={checkPreconditions:function(){return f.debug("Checking pre-conditions"),!e.isPlainObject(b)||e.isEmptyObject(b)?(f.error(w.undefinedColors),!1):!0},async:function(e){n.async?setTimeout(e,0):e()},getMetadata:function(){f.debug("Grabbing metadata"),c=m.data("image")||n.image||i,l=m.data("name")||n.name||t,u=n.width||m.width(),d=n.height||m.height(),(0===u||0===d)&&f.error(w.undefinedSize)},initialize:function(){f.debug("Initializing with colors",b),f.checkPreconditions()&&f.async(function(){f.getMetadata(),f.canvas.create(),f.draw.image(function(){f.draw.colors(),f.canvas.merge()}),m.data("module-"+y,f)})},redraw:function(){f.debug("Redrawing image"),f.async(function(){f.canvas.clear(),f.draw.colors(),f.canvas.merge()})},change:{color:function(e,t){return f.debug("Changing color",e),b[e]===i?(f.error(w.missingColor),!1):(b[e]=t,f.redraw(),void 0)}},canvas:{create:function(){f.debug("Creating canvases"),p.width=u,p.height=d,g.width=u,g.height=d,h.width=u,h.height=d,a=p.getContext("2d"),r=g.getContext("2d"),s=h.getContext("2d"),m.append(p),a=m.children("canvas")[0].getContext("2d")},clear:function(){f.debug("Clearing canvas"),s.fillStyle="#FFFFFF",s.fillRect(0,0,u,d)},merge:function(){return e.isFunction(a.blendOnto)?(a.putImageData(r.getImageData(0,0,u,d),0,0),s.blendOnto(a,"multiply"),void 0):(f.error(w.missingPlugin),void 0)}},draw:{image:function(e){f.debug("Drawing image"),e=e||function(){},c?(v.src=c,v.onload=function(){r.drawImage(v,0,0),e()}):(f.error(w.noImage),e())},colors:function(){f.debug("Drawing color overlays",b),e.each(b,function(e,t){n.onDraw(s,l,e,t)})}},debug:function(e,t){n.debug&&(t!==i?console.info(n.name+": "+e,t):console.info(n.name+": "+e))},error:function(e){console.warn(n.name+": "+e)},invoke:function(t,o,a){var r;return a=a||Array.prototype.slice.call(arguments,2),"string"==typeof t&&x!==i&&(t=t.split("."),e.each(t,function(t,i){return e.isPlainObject(x[i])?(x=x[i],!0):e.isFunction(x[i])?(r=x[i],!0):(f.error(n.error.method),!1)})),e.isFunction(r)?r.apply(o,a):!1}},x!==i&&o?("invoke"==o[0]&&(o=Array.prototype.slice.call(o,1)),f.invoke(o[0],this,Array.prototype.slice.call(o,1))):(f.initialize(),void 0)}),this},e.fn.colorize.settings={name:"Image Colorizer",debug:!0,namespace:"colorize",onDraw:function(){},async:!0,colors:{},metadata:{image:"image",name:"name"},error:{noImage:"No tracing image specified",undefinedColors:"No default colors specified.",missingColor:"Attempted to change color that does not exist",missingPlugin:"Blend onto plug-in must be included",undefinedHeight:"The width or height of image canvas could not be automatically determined. Please specify a height."}}}(jQuery,window,document),function(e,t,n,i){e.fn.form=function(t,o){var a,r=e(this),s=e.extend(!0,{},e.fn.form.settings,o),c=e.extend({},e.fn.form.settings.defaults,t),l=s.namespace,u=s.metadata,d=s.selector,f=s.className,m=s.error,p="."+l,g="module-"+l,h=r.selector||"",v=(new Date).getTime(),b=[],y=arguments[0],w="string"==typeof y,x=[].slice.call(arguments,1);return r.each(function(){var t,o=e(this),l=e(this).find(d.field),C=e(this).find(d.group),T=e(this).find(d.message),k=(e(this).find(d.prompt),e(this).find(d.submit)),S=[],A=this,E=o.data(g);t={initialize:function(){t.verbose("Initializing form validation",o,c,s),s.keyboardShortcuts&&l.on("keydown"+p,t.event.field.keydown),o.on("submit"+p,t.validate.form),l.on("blur"+p,t.event.field.blur),k.on("click"+p,t.submit),l.on(t.get.changeEvent()+p,t.event.field.change),t.instantiate()},instantiate:function(){t.verbose("Storing instance of module",t),E=t,o.data(g,t)},destroy:function(){t.verbose("Destroying previous module",E),o.off(p).removeData(g)},refresh:function(){t.verbose("Refreshing selector cache"),l=o.find(d.field)},submit:function(){t.verbose("Submitting form",o),o.submit()},event:{field:{keydown:function(n){var i=e(this),o=n.which,a={enter:13,escape:27};return o==a.escape&&(t.verbose("Escape key pressed blurring field"),i.blur()),!n.ctrlKey&&o==a.enter&&i.is(d.input)?(t.debug("Enter key pressed, submitting form"),k.addClass(f.down),i.one("keyup"+p,t.event.field.keyup),n.preventDefault(),!1):void 0},keyup:function(){t.verbose("Doing keyboard shortcut form submit"),k.removeClass(f.down),t.submit()},blur:function(){var n=e(this),i=n.closest(C);i.hasClass(f.error)?(t.debug("Revalidating field",n,t.get.validation(n)),t.validate.field(t.get.validation(n))):("blur"==s.on||"change"==s.on)&&t.validate.field(t.get.validation(n))},change:function(){var n=e(this),i=n.closest(C);("change"==s.on||i.hasClass(f.error)&&s.revalidate)&&(clearTimeout(t.timer),t.timer=setTimeout(function(){t.debug("Revalidating field",n,t.get.validation(n)),t.validate.field(t.get.validation(n))},s.delay))}}},get:{changeEvent:function(){return n.createElement("input").oninput!==i?"input":n.createElement("input").onpropertychange!==i?"propertychange":"keyup"},field:function(n){return t.verbose("Finding field with identifier",n),l.filter("#"+n).size()>0?l.filter("#"+n):l.filter('[name="'+n+'"]').size()>0?l.filter('[name="'+n+'"]'):l.filter("[data-"+u.validate+'="'+n+'"]').size()>0?l.filter("[data-"+u.validate+'="'+n+'"]'):e("<input/>")},validation:function(n){var i;return e.each(c,function(e,o){t.get.field(o.identifier).get(0)==n.get(0)&&(i=o)}),i||!1}},has:{field:function(e){return t.verbose("Checking for existence of a field with identifier",e),l.filter("#"+e).size()>0?!0:l.filter('[name="'+e+'"]').size()>0?!0:l.filter("[data-"+u.validate+'="'+e+'"]').size()>0?!0:!1}},add:{prompt:function(n,a){var r=t.get.field(n.identifier),c=r.closest(C),l=c.find(d.prompt),u=0!==l.size();t.verbose("Adding inline error",n),c.addClass(f.error),s.inline&&(u||(l=s.templates.prompt(a),l.appendTo(c)),l.html(a[0]),u||(s.transition&&e.fn.transition!==i&&o.transition("is supported")?(t.verbose("Displaying error with css transition",s.transition),l.transition(s.transition+" in",s.duration)):(t.verbose("Displaying error with fallback javascript animation"),l.fadeIn(s.duration))))},errors:function(e){t.debug("Adding form error messages",e),T.html(s.templates.error(e))}},remove:{prompt:function(n){var a=t.get.field(n.identifier),r=a.closest(C),c=r.find(d.prompt);r.removeClass(f.error),s.inline&&c.is(":visible")&&(t.verbose("Removing prompt for field",n),s.transition&&e.fn.transition!==i&&o.transition("is supported")?c.transition(s.transition+" out",s.duration,function(){c.remove()}):c.fadeOut(s.duration,function(){c.remove()}))}},validate:{form:function(n){var i=!0;return S=[],e.each(c,function(e,n){t.validate.field(n)||(i=!1)}),i?(t.debug("Form has no validation errors, submitting"),o.removeClass(f.error).addClass(f.success),e.proxy(s.onSuccess,this)(n),void 0):(t.debug("Form has errors"),o.addClass(f.error),s.inline||t.add.errors(S),e.proxy(s.onFailure,this)(S))},field:function(n){var o=t.get.field(n.identifier),a=!0,r=[];return n.rules!==i&&e.each(n.rules,function(e,i){t.has.field(n.identifier)&&!t.validate.rule(n,i)&&(t.debug("Field is invalid",n.identifier,i.type),r.push(i.prompt),a=!1)}),a?(t.remove.prompt(n,r),e.proxy(s.onValid,o)(),!0):(S=S.concat(r),t.add.prompt(n,r),e.proxy(s.onInvalid,o)(r),!1)},rule:function(n,a){var r,c,l=t.get.field(n.identifier),u=a.type,d=l.val()+"",f=/\[(.*?)\]/i,m=f.exec(u),p=!0;return m!==i&&null!==m?(r=""+m[1],c=u.replace(m[0],""),p=e.proxy(s.rules[c],o)(d,r)):p=e.proxy(s.rules[u],l)(d),p}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,s,t);else{if(n===i)return s[t];s[t]=n}},internal:function(n,o){if(e.isPlainObject(n))e.extend(!0,t,n);else{if(o===i)return t[n];t[n]=o}},debug:function(){s.debug&&(s.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,s.name+":"),t.debug.apply(console,arguments)))},verbose:function(){s.verbose&&s.debug&&(s.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),t.verbose.apply(console,arguments)))},error:function(){t.error=Function.prototype.bind.call(console.error,console,s.name+":"),t.error.apply(console,arguments)},performance:{log:function(e){var n,i,o;s.performance&&(n=(new Date).getTime(),o=v||n,i=n-o,v=n,b.push({Element:A,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(t.performance.timer),t.performance.timer=setTimeout(t.performance.display,100)},display:function(){var n=s.name+":",o=0;v=!1,clearTimeout(t.performance.timer),e.each(b,function(e,t){o+=t["Execution Time"]}),n+=" "+o+"ms",h&&(n+=" '"+h+"'"),r.size()>1&&(n+=" ("+r.size()+")"),(console.group!==i||console.table!==i)&&b.length>0&&(console.groupCollapsed(n),console.table?console.table(b):e.each(b,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),b=[]}},invoke:function(n,o,r){var s,c,l;return o=o||x,r=A||r,"string"==typeof n&&E!==i&&(n=n.split(/[\. ]/),s=n.length-1,e.each(n,function(o,a){var r=o!=s?a+n[o+1].charAt(0).toUpperCase()+n[o+1].slice(1):n;if(e.isPlainObject(E[r])&&o!=s)E=E[r];else{if(E[r]!==i)return c=E[r],!1;if(!e.isPlainObject(E[a])||o==s)return E[a]!==i?(c=E[a],!1):(t.error(m.method,n),!1);E=E[a]}})),e.isFunction(c)?l=c.apply(r,o):c!==i&&(l=c),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),c}},w?(E===i&&t.initialize(),t.invoke(y)):(E!==i&&t.destroy(),t.initialize())}),a!==i?a:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!0,verbose:!0,performance:!0,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:150,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{validate:"validate"},selector:{message:".error.message",field:"input, textarea, select",group:".field",input:"input",prompt:".prompt",submit:".submit"},className:{error:"error",success:"success",down:"down",label:"ui label prompt"},error:{method:"The method you called is not defined."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui red pointing prompt label").html(t[0])}},rules:{checked:function(){return e(this).filter(":checked").size()>0},empty:function(e){return!(e===i||""===e)},email:function(e){var t=RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?","i");return t.test(e)},length:function(e,t){return e!==i?e.length>=t:!1},not:function(e,t){return e!=t},contains:function(e,t){return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),-1!==e.search(t)},is:function(e,t){return e==t},maxLength:function(e,t){return e!==i?t>=e.length:!1},match:function(t,n){var o,a=e(this);return a.find("#"+n).size()>0?o=a.find("#"+n).val():a.find("[name="+n+"]").size()>0?o=a.find("[name="+n+"]").val():a.find('[data-validate="'+n+'"]').size()>0&&(o=a.find('[data-validate="'+n+'"]').val()),o!==i?""+t==""+o:!1},url:function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return t.test(e)}}}}(jQuery,window,document),function(e,t,n,i){e.fn.state=function(t){var n,o=e(this),a=e.extend(!0,{},e.fn.state.settings,t),r=o.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),f=a.error,m=a.metadata,p=a.className,g=a.namespace,h=a.states,v=a.text,b="."+g,y=g+"-module";return o.each(function(){var g,w=e(this),x=this,C=w.data(y);g={initialize:function(){g.verbose("Initializing module"),a.automatic&&g.add.defaults(),a.context&&""!==r?(g.allows("hover")&&e(x,a.context).on(r,"mouseenter"+b,g.enable.hover).on(r,"mouseleave"+b,g.disable.hover),g.allows("down")&&e(x,a.context).on(r,"mousedown"+b,g.enable.down).on(r,"mouseup"+b,g.disable.down),g.allows("focus")&&e(x,a.context).on(r,"focus"+b,g.enable.focus).on(r,"blur"+b,g.disable.focus),e(a.context).on(r,"mouseenter"+b,g.change.text).on(r,"mouseleave"+b,g.reset.text).on(r,"click"+b,g.toggle.state)):(g.allows("hover")&&w.on("mouseenter"+b,g.enable.hover).on("mouseleave"+b,g.disable.hover),g.allows("down")&&w.on("mousedown"+b,g.enable.down).on("mouseup"+b,g.disable.down),g.allows("focus")&&w.on("focus"+b,g.enable.focus).on("blur"+b,g.disable.focus),w.on("mouseenter"+b,g.change.text).on("mouseleave"+b,g.reset.text).on("click"+b,g.toggle.state)),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),C=g,w.data(y,g)},destroy:function(){g.verbose("Destroying previous module",C),w.off(b).removeData(y)},refresh:function(){g.verbose("Refreshing selector cache"),w=e(x)},add:{defaults:function(){var n=t&&e.isPlainObject(t.states)?t.states:{};e.each(a.defaults,function(t,o){g.is[t]!==i&&g.is[t]()&&(g.verbose("Adding default states",t,x),e.extend(a.states,o,n))})}},is:{active:function(){return w.hasClass(p.active)},loading:function(){return w.hasClass(p.loading)},inactive:function(){return!w.hasClass(p.active)},enabled:function(){return!w.is(a.filter.active)},disabled:function(){return w.is(a.filter.active)},textEnabled:function(){return!w.is(a.filter.text)},button:function(){return w.is(".button:not(a, .submit)")},input:function(){return w.is("input")}},allow:function(e){g.debug("Now allowing state",e),h[e]=!0},disallow:function(e){g.debug("No longer allowing",e),h[e]=!1},allows:function(e){return h[e]||!1},enable:{state:function(e){g.allows(e)&&w.addClass(p[e])},focus:function(){w.addClass(p.focus)},hover:function(){w.addClass(p.hover)},down:function(){w.addClass(p.down)}},disable:{state:function(e){g.allows(e)&&w.removeClass(p[e])},focus:function(){w.removeClass(p.focus)},hover:function(){w.removeClass(p.hover)},down:function(){w.removeClass(p.down)}},toggle:{state:function(){var e=w.data(m.promise);g.allows("active")&&g.is.enabled()&&(g.refresh(),e!==i?g.listenTo(e):g.change.state())}},listenTo:function(t){g.debug("API request detected, waiting for state signal",t),t?(v.loading&&g.update.text(v.loading),e.when(t).then(function(){"resolved"==t.state()?(g.debug("API request succeeded"),a.activateTest=function(){return!0},a.deactivateTest=function(){return!0}):(g.debug("API request failed"),a.activateTest=function(){return!1},a.deactivateTest=function(){return!1}),g.change.state()})):(a.activateTest=function(){return!1},a.deactivateTest=function(){return!1})},change:{state:function(){g.debug("Determining state change direction"),g.is.inactive()?g.activate():g.deactivate(),a.sync&&g.sync(),e.proxy(a.onChange,x)()},text:function(){g.is.textEnabled()&&(g.is.active()?v.hover?(g.verbose("Changing text to hover text",v.hover),g.update.text(v.hover)):v.disable&&(g.verbose("Changing text to disable text",v.disable),g.update.text(v.disable)):v.hover?(g.verbose("Changing text to hover text",v.disable),g.update.text(v.hover)):v.enable&&(g.verbose("Changing text to enable text",v.enable),g.update.text(v.enable)))}},activate:function(){e.proxy(a.activateTest,x)()&&(g.debug("Setting state to active"),w.addClass(p.active),g.update.text(v.active)),e.proxy(a.onActivate,x)()},deactivate:function(){e.proxy(a.deactivateTest,x)()&&(g.debug("Setting state to inactive"),w.removeClass(p.active),g.update.text(v.inactive)),e.proxy(a.onDeactivate,x)()},sync:function(){g.verbose("Syncing other buttons to current state"),g.is.active()?o.not(w).state("activate"):o.not(w).state("deactivate")},get:{text:function(){return a.selector.text?w.find(a.selector.text).text():w.html()},textFor:function(e){return v[e]||!1}},flash:{text:function(e,t){var n=g.get.text();g.debug("Flashing text message",e,t),e=e||a.text.flash,t=t||a.flashDuration,g.update.text(e),setTimeout(function(){g.update.text(n)},t)}},reset:{text:function(){var e=v.active||w.data(m.storedText),t=v.inactive||w.data(m.storedText);g.is.textEnabled()&&(g.is.active()&&e?(g.verbose("Resetting active text",e),g.update.text(e)):t&&(g.verbose("Resetting inactive text",e),g.update.text(t)))}},update:{text:function(e){var t=g.get.text();e&&e!==t?(g.debug("Updating text",e),a.selector.text?w.data(m.storedText,e).find(a.selector.text).text(e):w.data(m.storedText,e).html(e)):g.debug("Text is already sane, ignoring update",e)}},setting:function(t,n){return g.debug("Changing setting",t,n),n===i?a[t]:(e.isPlainObject(t)?e.extend(!0,a,t):a[t]=n,void 0)},internal:function(t,n){return g.debug("Changing internal",t,n),n===i?g[t]:(e.isPlainObject(t)?e.extend(!0,g,t):g[t]=n,void 0)},debug:function(){a.debug&&(a.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,a.name+":"),g.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,a.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;a.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Element:x,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,100)},display:function(){var t=a.name+":",n=0;s=!1,clearTimeout(g.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),o.size()>1&&(t+=" ("+o.size()+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,o,a){var r,s,c;return o=o||d,a=x||a,"string"==typeof t&&C!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(C[a])&&n!=r)C=C[a];else{if(C[a]!==i)return s=C[a],!1;if(!e.isPlainObject(C[o])||n==r)return C[o]!==i?(s=C[o],!1):(g.error(f.method,t),!1);C=C[o]}})),e.isFunction(s)?c=s.apply(a,o):s!==i&&(c=s),e.isArray(n)?n.push(c):n!==i?n=[n,c]:c!==i&&(n=c),s}},u?(C===i&&g.initialize(),g.invoke(l)):(C!==i&&g.destroy(),g.initialize())}),n!==i?n:this},e.fn.state.settings={name:"State",debug:!0,verbose:!0,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:3e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{focus:"focus",hover:"hover",down:"down",active:"active",loading:"loading"},selector:{text:!1},defaults:{input:{hover:!0,focus:!0,down:!0,loading:!1,active:!1},button:{hover:!0,focus:!1,down:!0,active:!0,loading:!0}},states:{hover:!0,focus:!0,down:!0,loading:!1,active:!1},text:{flash:!1,hover:!1,active:!1,inactive:!1,enable:!1,disable:!1}}}(jQuery,window,document),function(e,t,n,i){e.fn.chatroom=function(t){var n,o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1);return e(this).each(function(){var n,o,d,f,m,p,g,h=e.extend(!0,{},e.fn.chatroom.settings,t),v=h.className,b=h.namespace,y=h.selector,w=h.error,x=e(this),C=x.find(y.expandButton),T=x.find(y.userListButton),k=x.find(y.userList),S=(x.find(y.room),x.find(y.userCount)),A=x.find(y.log),E=(x.find(y.message),x.find(y.messageInput)),z=x.find(y.messageButton),$=x.data("module"),P=this,F="",D={};g={width:{log:A.width(),userList:k.outerWidth()},initialize:function(){return Pusher===i&&g.error(w.pusher),h.key===i||h.channelName===i?(g.error(w.key),!1):h.endpoint.message||h.endpoint.authentication?(p=new Pusher(h.key),Pusher.channel_auth_endpoint=h.endpoint.authentication,n=p.subscribe(h.channelName),n.bind("pusher:subscription_succeeded",g.user.list.create),n.bind("pusher:subscription_error",g.error),n.bind("pusher:member_added",g.user.joined),n.bind("pusher:member_removed",g.user.left),n.bind("update_messages",g.message.receive),e.each(h.customEvents,function(e,t){n.bind(e,t)}),T.on("click."+b,g.event.toggleUserList),C.on("click."+b,g.event.toggleExpand),E.on("keydown."+b,g.event.input.keydown).on("keyup."+b,g.event.input.keyup),z.on("mouseenter."+b,g.event.hover).on("mouseleave."+b,g.event.hover).on("click."+b,g.event.submit),A.animate({scrollTop:A.prop("scrollHeight")},400),x.data("module",g).addClass(v.loading),void 0):(g.error(w.endpoint),!1)},refresh:function(){T.removeClass(v.active),g.width={log:A.width(),userList:k.outerWidth()},T.hasClass(v.active)&&g.user.list.hide(),x.data("module",g)},user:{updateCount:function(){h.userCount&&(D=x.data("users"),f=0,e.each(D,function(){f++}),S.html(h.templates.userCount(f)))},joined:function(t){D=x.data("users"),"anonymous"!=t.id&&D[t.id]===i&&(D[t.id]=t.info,h.randomColor&&t.info.color===i&&(t.info.color=h.templates.color(t.id)),F=h.templates.userList(t.info),t.info.isAdmin?e(F).prependTo(k):e(F).appendTo(k),h.partingMessages&&(A.append(h.templates.joined(t.info)),g.message.scroll.test()),g.user.updateCount())},left:function(e){D=x.data("users"),e!==i&&"anonymous"!==e.id&&(delete D[e.id],x.data("users",D),k.find("[data-id="+e.id+"]").remove(),h.partingMessages&&(A.append(h.templates.left(e.info)),g.message.scroll.test()),g.user.updateCount())},list:{create:function(t){D={},t.each(function(e){"anonymous"!==e.id&&"undefined"!==e.id&&(h.randomColor&&e.info.color===i&&(e.info.color=h.templates.color(e.id)),F=e.info.isAdmin?h.templates.userList(e.info)+F:F+h.templates.userList(e.info),D[e.id]=e.info)}),x.data("users",D).data("user",D[t.me.id]).removeClass(v.loading),k.html(F),g.user.updateCount(),e.proxy(h.onJoin,k.children())()},show:function(){A.animate({width:g.width.log-g.width.userList},{duration:h.speed,easing:h.easing,complete:g.message.scroll.move})},hide:function(){A.stop().animate({width:g.width.log},{duration:h.speed,easing:h.easing,complete:g.message.scroll.move})}}},message:{scroll:{test:function(){m=A.prop("scrollHeight")-A.height(),Math.abs(A.scrollTop()-m)<h.scrollArea&&g.message.scroll.move()},move:function(){m=A.prop("scrollHeight")-A.height(),A.scrollTop(m)}},send:function(t){g.utils.emptyString(t)||e.api({url:h.endpoint.message,method:"POST",data:{message:{content:t,timestamp:(new Date).getTime()}}})},receive:function(e){d=e.data,D=x.data("users"),o=x.data("user"),D[d.userID]!==i&&(o===i||o.id!=d.userID)&&(d.user=D[d.userID],g.message.display(d))},display:function(t){A.append(h.templates.message(t)),g.message.scroll.test(),e.proxy(h.onMessage,A.children().last())()}},expand:function(){x.addClass(v.expand),e.proxy(h.onExpand,x)(),g.refresh()},contract:function(){x.removeClass(v.expand),e.proxy(h.onContract,x)(),g.refresh()},event:{input:{keydown:function(e){13==e.which&&z.addClass(v.down)},keyup:function(e){13==e.which&&(z.removeClass(v.down),g.event.submit())}},submit:function(){var e=E.val(),t=x.data("user");t===i||g.utils.emptyString(e)||(g.message.send(e),g.message.display({user:t,text:e}),g.message.scroll.move(),E.val(""))},toggleExpand:function(){x.hasClass(v.expand)?(C.removeClass(v.active),g.contract()):(C.addClass(v.active),g.expand())},toggleUserList:function(){A.is(":animated")||(T.hasClass(v.active)?(T.removeClass("active"),g.user.list.hide()):(T.addClass(v.active),g.user.list.show()))}},utils:{emptyString:function(e){return"string"==typeof e?-1==e.search(/\S/):!1}},setting:function(t,n){return n===i?h[t]:(e.isPlainObject(t)?e.extend(!0,h,t):h[t]=n,void 0)},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},debug:function(){h.debug&&(h.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,h.name+":"),g.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,h.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Element:P,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,100)},display:function(){var t=h.name+":",n=0;r=!1,clearTimeout(g.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")
}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a,r;return n=n||u,o=P||o,"string"==typeof t&&$!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,o){e.isPlainObject($[o])&&n!=a?$=$[o]:$[o]!==i?r=$[o]:g.error(w.method,t)})),e.isFunction(r)?r.apply(o,n):r||!1}},l?($===i&&g.initialize(),g.invoke(c)):($!==i&&g.destroy(),g.initialize())}),n?n:this},e.fn.chatroom.settings={name:"Chat",debug:!1,namespace:"chat",channel:"present-chat",onJoin:function(){},onMessage:function(){},onExpand:function(){},onContract:function(){},customEvents:{},partingMessages:!1,userCount:!0,randomColor:!0,speed:300,easing:"easeOutQuint",scrollArea:9999,endpoint:{message:!1,authentication:!1},error:{method:"The method you called is not defined",endpoint:"Please define a message and authentication endpoint.",key:"You must specify a pusher key and channel.",pusher:"You must include the Pusher library."},className:{expand:"expand",active:"active",hover:"hover",down:"down",loading:"loading"},selector:{userCount:".actions .message",userListButton:".actions .list.button",expandButton:".actions .expand.button",room:".room",userList:".room .list",log:".room .log",message:".room .log .message",author:".room log .message .author",messageInput:".talk input",messageButton:".talk .send.button"},templates:{userCount:function(e){return e+" users in chat"},color:function(){var e=["#000000","#333333","#666666","#999999","#CC9999","#CC6666","#CC3333","#993333","#663333","#CC6633","#CC9966","#CC9933","#999966","#CCCC66","#99CC66","#669933","#669966","#33A3CC","#336633","#33CCCC","#339999","#336666","#336699","#6666CC","#9966CC","#333399","#663366","#996699","#993366","#CC6699"];return e[Math.floor(Math.random()*e.length)]},message:function(e){var t="";return e.user.isAdmin?(e.user.color="#55356A",t+='<div class="admin message">',t+='<span class="quirky ui flag team"></span>'):t+='<div class="message">',t+="<p>",t+=e.user.color!==i?'<span class="author" style="color: '+e.user.color+';">'+e.user.name+"</span>: ":'<span class="author">'+e.user.name+"</span>: ",t+=""+e.text+" </p></div>"},joined:function(e){return typeof e.name!==i?'<div class="status">'+e.name+" has joined the chat.</div>":!1},left:function(e){return typeof e.name!==i?'<div class="status">'+e.name+" has left the chat.</div>":!1},userList:function(e){var t="";return e.isAdmin&&(e.color="#55356A"),t+='<div class="user" data-id="'+e.id+'"> <div class="image">   <img src="'+e.avatarURL+'"> </div>',t+=e.color!==i?' <p><a href="/users/'+e.id+'" target="_blank" style="color: '+e.color+';">'+e.name+"</a></p>":' <p><a href="/users/'+e.id+'" target="_blank">'+e.name+"</a></p>",t+="</div>"}}}}(jQuery,window,document),function(e,t,n,i){e.fn.checkbox=function(t){var n,o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1);return o.each(function(){var o,d=e.extend(!0,{},e.fn.checkbox.settings,t),f=d.className,m=d.namespace,p=d.error,g="."+m,h="module-"+m,v=e(this),b=e(this).next(d.selector.label).first(),y=e(this).find(d.selector.input),w=v.selector||"",x=v.data(h),C=this;o={initialize:function(){o.verbose("Initializing checkbox",d),d.context&&""!==w?(o.verbose("Adding delegated events"),e(C,d.context).on(w,"click"+g,o.toggle).on(w+" + "+d.selector.label,"click"+g,o.toggle)):(v.on("click"+g,o.toggle).data(h,o),b.on("click"+g,o.toggle)),o.instantiate()},instantiate:function(){o.verbose("Storing instance of module",o),x=o,v.data(h,o)},destroy:function(){o.verbose("Destroying previous module"),v.off(g).removeData(h)},is:{radio:function(){return v.hasClass(f.radio)},enabled:function(){return y.prop("checked")!==i&&y.prop("checked")},disabled:function(){return!o.is.enabled()}},can:{disable:function(){return"boolean"==typeof d.required?d.required:!o.is.radio()}},enable:function(){o.debug("Enabling checkbox",y),y.prop("checked",!0),e.proxy(d.onChange,y.get())(),e.proxy(d.onEnable,y.get())()},disable:function(){o.debug("Disabling checkbox"),y.prop("checked",!1),e.proxy(d.onChange,y.get())(),e.proxy(d.onDisable,y.get())()},toggle:function(){o.verbose("Determining new checkbox state"),o.is.disabled()?o.enable():o.is.enabled()&&o.can.disable()&&o.disable()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},debug:function(){d.debug&&(d.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,d.name+":"),o.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,d.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;d.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Element:C,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,100)},display:function(){var t=d.name+":",n=0;r=!1,clearTimeout(o.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,a,r){var s,c,l;return a=a||u,r=C||r,"string"==typeof t&&x!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,a){var r=n!=s?a+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(x[r])&&n!=s)x=x[r];else{if(x[r]!==i)return c=x[r],!1;if(!e.isPlainObject(x[a])||n==s)return x[a]!==i?(c=x[a],!1):(o.error(p.method,t),!1);x=x[a]}})),e.isFunction(c)?l=c.apply(r,a):c!==i&&(l=c),e.isArray(n)?n.push(l):n!==i?n=[n,l]:l!==i&&(n=l),c}},l?(x===i&&o.initialize(),o.invoke(c)):(x!==i&&o.destroy(),o.initialize())}),n!==i?n:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",verbose:!0,debug:!0,performance:!0,context:!1,required:"auto",onChange:function(){},onEnable:function(){},onDisable:function(){},error:{method:"The method you called is not defined."},selector:{input:"input[type=checkbox], input[type=radio]",label:"label"},className:{radio:"radio"}}}(jQuery,window,document),function(e,t,n,i){e.fn.dimmer=function(t){var o,a=e(this),r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1);return a.each(function(){var d,f,m,p=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),g=p.selector,h=p.namespace,v=p.className,b=p.error,y="."+h,w="module-"+h,x=a.selector||"",C="ontouchstart"in n.documentElement?"touchstart":"click",T=e(this),k=this,S=T.data(w);m={preinitialize:function(){m.is.dimmer()?(f=T.parent(),d=T):(f=T,d=m.has.dimmer()?f.children(g.dimmer).first():m.create())},initialize:function(){m.debug("Initializing dimmer",p),"hover"==p.on?f.on("mouseenter"+y,m.show).on("mouseleave"+y,m.hide):"click"==p.on&&f.on(C+y,m.toggle),m.is.page()&&(m.debug("Setting as a page dimmer",f),m.set.pageDimmer()),p.closable&&(m.verbose("Adding dimmer close event",d),d.on(C+y,m.event.click)),m.set.dimmable(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),S=m,T.data(w,S)},destroy:function(){m.verbose("Destroying previous module",d),T.removeData(w),f.off(y),d.off(y)},event:{click:function(t){m.verbose("Determining if event occured on dimmer",t),(0===d.find(t.target).size()||e(t.target).is(g.content))&&(m.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t);m.debug("Add content to dimmer",n),n.parent()[0]!==d[0]&&n.detach().appendTo(d)},create:function(){return e(p.template.dimmer()).appendTo(f)},animate:{show:function(t){t=e.isFunction(t)?t:function(){},m.set.dimmed(),p.useCSS&&e.fn.transition!==i&&T.transition("is supported")?d.transition({animation:p.transition+" in",queue:!0,duration:m.get.duration(),complete:function(){m.set.active(),t()}}):(m.verbose("Showing dimmer animation with javascript"),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(m.get.duration(),1,function(){d.removeAttr("style"),m.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},p.useCSS&&e.fn.transition!==i&&T.transition("is supported")?(m.verbose("Hiding dimmer with css"),d.transition({animation:p.transition+" out",duration:m.get.duration(),queue:!0,complete:function(){m.remove.dimmed(),m.remove.active(),t()}})):(m.verbose("Hiding dimmer with javascript"),d.stop().fadeOut(m.get.duration(),function(){d.removeAttr("style"),m.remove.dimmed(),m.remove.active(),t()}))}},get:{dimmer:function(){return d},duration:function(){return"object"==typeof p.duration?m.is.active()?p.duration.hide:p.duration.show:p.duration}},has:{dimmer:function(){return T.children(g.dimmer).size()>0}},is:{active:function(){return d.hasClass(v.active)},animating:function(){return d.is(":animated")||d.hasClass(v.transition)},dimmer:function(){return T.is(g.dimmer)},dimmable:function(){return T.is(g.dimmable)},dimmed:function(){return f.hasClass(v.dimmed)},disabled:function(){return f.hasClass(v.disabled)},enabled:function(){return!m.is.disabled()},page:function(){return f.is("body")},pageDimmer:function(){return d.hasClass(v.pageDimmer)}},can:{show:function(){return!d.hasClass(v.disabled)}},set:{active:function(){m.set.dimmed(),d.removeClass(v.transition).addClass(v.active)},dimmable:function(){f.addClass(v.dimmable)},dimmed:function(){f.addClass(v.dimmed)},pageDimmer:function(){d.addClass(v.pageDimmer)},disabled:function(){d.addClass(v.disabled)}},remove:{active:function(){d.removeClass(v.transition).removeClass(v.active)},dimmed:function(){f.removeClass(v.dimmed)},disabled:function(){d.removeClass(v.disabled)}},show:function(t){t=e.isFunction(t)?t:function(){},m.debug("Showing dimmer",d,p),!m.is.active()&&m.is.enabled()?(m.animate.show(t),e.proxy(p.onShow,k)(),e.proxy(p.onChange,k)()):m.debug("Dimmer is already shown or disabled")},hide:function(t){t=e.isFunction(t)?t:function(){},m.is.active()||m.is.animating()?(m.debug("Hiding dimmer",d),m.animate.hide(t),e.proxy(p.onHide,k)(),e.proxy(p.onChange,k)()):m.debug("Dimmer is not visible")},toggle:function(){m.verbose("Toggling dimmer visibility",d),m.is.dimmed()?m.hide():m.show()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){p.debug&&(p.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,p.name+":"),m.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,p.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Element:k,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,100)},display:function(){var t=p.name+":",n=0;r=!1,clearTimeout(m.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",x&&(t+=" '"+x+"'"),a.size()>1&&(t+=" ("+a.size()+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,a){var r,s,c;return n=n||u,a=k||a,"string"==typeof t&&S!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(S[a])&&n!=r)S=S[a];else{if(!e.isPlainObject(S[o])||n==r)return S[o]!==i?(s=S[o],!1):S[a]!==i?(s=S[a],!1):(m.error(b.method,t),!1);S=S[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},m.preinitialize(),l?(S===i&&m.initialize(),m.invoke(c)):(S!==i&&m.destroy(),m.initialize())}),o!==i?o:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!0,verbose:!0,performance:!0,transition:"fade",useCSS:!0,on:!1,closable:!0,duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},selector:{dimmable:".ui.dimmable",dimmer:".ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}},className:{active:"active",dimmable:"ui dimmable",dimmed:"dimmed",disabled:"disabled",pageDimmer:"page",hide:"hide",show:"show",transition:"transition"}}}(jQuery,window,document),function(e,t,n,i){e.fn.dropdown=function(t){var o,a=e(this),r=e(n),s=a.selector||"",c="ontouchstart"in n.documentElement,l=(new Date).getTime(),u=[],d=arguments[0],f="string"==typeof d,m=[].slice.call(arguments,1);return a.each(function(){var n,p=e.isPlainObject(t)?e.extend(!0,{},e.fn.dropdown.settings,t):e.extend({},e.fn.dropdown.settings),g=p.className,h=p.metadata,v=p.namespace,b=p.selector,y=p.error,w="."+v,x="module-"+v,C=e(this),T=C.find(b.item),k=C.find(b.text),S=C.find(b.input),A=C.children(b.menu),E=this,z=C.data(x);n={initialize:function(){n.debug("Initializing dropdown",p),n.set.selected(),c&&n.bind.touchEvents(),n.bind.mouseEvents(),n.instantiate()},instantiate:function(){n.verbose("Storing instance of dropdown",n),z=n,C.data(x,n)},destroy:function(){n.verbose("Destroying previous dropdown for",C),T.off(w),C.off(w).removeData(x)},bind:{touchEvents:function(){n.debug("Touch device detected binding touch events"),C.on("touchstart"+w,n.event.test.toggle),T.on("touchstart"+w,n.event.item.mouseenter).on("touchstart"+w,n.event.item.click)},mouseEvents:function(){n.verbose("Mouse detected binding mouse events"),"click"==p.on?C.on("click"+w,n.event.test.toggle):"hover"==p.on?C.on("mouseenter"+w,n.delay.show).on("mouseleave"+w,n.delay.hide):C.on(p.on+w,n.toggle),T.on("mouseenter"+w,n.event.item.mouseenter).on("mouseleave"+w,n.event.item.mouseleave).on("click"+w,n.event.item.click)},intent:function(){n.verbose("Binding hide intent event to document"),c&&r.on("touchstart"+w,n.event.test.touch).on("touchmove"+w,n.event.test.touch),r.on("click"+w,n.event.test.hide)}},unbind:{intent:function(){n.verbose("Removing hide intent event from document"),c&&r.off("touchstart"+w),r.off("click"+w)}},event:{test:{toggle:function(e){n.determine.intent(e,n.toggle)&&e.preventDefault()},touch:function(e){n.determine.intent(e,function(){"touchstart"==e.type?n.timer=setTimeout(n.hide,p.delay.touch):"touchmove"==e.type&&clearTimeout(n.timer)}),e.stopPropagation()},hide:function(e){n.determine.intent(e,n.hide)}},item:{mouseenter:function(t){var i=e(this).find(b.menu),o=e(this).siblings(b.item).children(b.menu);i.size()>0&&(clearTimeout(n.itemTimer),n.itemTimer=setTimeout(function(){n.animate.hide(!1,o),n.verbose("Showing sub-menu",i),n.animate.show(!1,i)},2*p.delay.show),t.preventDefault())},mouseleave:function(){var t=e(this).find(b.menu);t.size()>0&&(clearTimeout(n.itemTimer),n.itemTimer=setTimeout(function(){n.verbose("Hiding sub-menu",t),n.animate.hide(!1,t)},p.delay.hide))},click:function(){var t=e(this),o=t.data(h.text)!==i?t.data(h.text):t.text(),a=t.data(h.value)!==i?t.data(h.value):o.toLowerCase();0===t.find(b.menu).size()&&(n.determine.selectAction(o,a),e.proxy(p.onChange,E)(a,o))}},resetStyle:function(){e(this).removeAttr("style")}},determine:{selectAction:function(t,i){n.verbose("Determining action",p.action),e.isFunction(n.action[p.action])?(n.verbose("Triggering preset action",p.action,t,i),n.action[p.action](t,i)):e.isFunction(p.action)?(n.verbose("Triggering user action",p.action,t,i),p.action(t,i)):n.error(y.action,p.action)},intent:function(t,i){return n.debug("Determining whether event occurred in dropdown",t.target),i=i||function(){},0===e(t.target).closest(A).size()?(n.verbose("Triggering event",i),i(),!0):(n.verbose("Event occurred in dropdown, canceling callback"),!1)}},action:{nothing:function(){},hide:function(){n.hide()},activate:function(e,t){t=t!==i?t:e,n.set.selected(t),n.set.value(t),n.hide()},auto:function(e,t){t=t!==i?t:e,n.set.selected(t),n.set.value(t),n.hide()},changeText:function(e,t){t=t!==i?t:e,n.set.selected(t),n.hide()},updateForm:function(e,t){t=t!==i?t:e,n.set.selected(t),n.set.value(t),n.hide()}},get:{text:function(){return k.text()},value:function(){return S.size()>0?S.val():C.data(h.value)},item:function(t){var o;return t=t!==i?t:n.get.value()!==i?n.get.value():n.get.text(),t!==i?T.each(function(){var n=e(this),a=n.data(h.text)!==i?n.data(h.text):n.text(),r=n.data(h.value)!==i?n.data(h.value):a.toLowerCase();return r==t||a==t?(o=e(this),!1):void 0}):t=n.get.text(),o||!1}},set:{text:function(e){n.debug("Changing text",e,k),k.removeClass(g.placeholder),k.text(e)},value:function(e){n.debug("Adding selected value to hidden input",e,S),S.size()>0?S.val(e):C.data(h.value,e)},active:function(){C.addClass(g.active)},visible:function(){C.addClass(g.visible)},selected:function(e){var t,o=n.get.item(e);o&&(n.debug("Setting selected menu item to",o),t=o.data(h.text)!==i?o.data(h.text):o.text(),T.removeClass(g.active),o.addClass(g.active),n.set.text(t))}},remove:{active:function(){C.removeClass(g.active)},visible:function(){C.removeClass(g.visible)}},is:{selection:function(){return C.hasClass(g.selection)},animated:function(e){return e?e.is(":animated")||e.transition("is animating"):A.is(":animated")||A.transition("is animating")},visible:function(e){return e?e.is(":visible"):A.is(":visible")},hidden:function(e){return e?e.is(":not(:visible)"):A.is(":not(:visible)")}},can:{click:function(){return c||"click"==p.on},show:function(){return!C.hasClass(g.disabled)}},animate:{show:function(t,o){var a=o||A;t=t||function(){},n.is.hidden(a)&&(n.verbose("Doing menu show animation",a),"none"==p.transition?t():e.fn.transition!==i&&C.transition("is supported")?(a.transition({animation:p.transition+" in",duration:p.duration,complete:t,queue:!1}),a.transition("force repaint")):"slide down"==p.transition?a.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},p.duration,"easeOutQuad",n.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){e.proxy(n.event.resetStyle,this)(),t()}):"fade"==p.transition?a.hide().clearQueue().fadeIn(p.duration,function(){e.proxy(n.event.resetStyle,this)(),t()}):n.error(y.transition,p.transition))},hide:function(t,o){var a=o||A;t=t||function(){},n.is.visible(a)&&(n.verbose("Doing menu hide animation",a),e.fn.transition!==i&&C.transition("is supported")?a.transition({animation:p.transition+" out",duration:p.duration,complete:t,queue:!1}):"none"==p.transition?t():"slide down"==p.transition?a.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",n.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){e.proxy(n.event.resetStyle,this)(),t()}):"fade"==p.transition?a.show().clearQueue().fadeOut(150,function(){e.proxy(n.event.resetStyle,this)(),t()}):n.error(y.transition))}},show:function(){n.debug("Checking if dropdown can show"),n.is.hidden()&&(n.hideOthers(),n.set.active(),n.animate.show(function(){n.can.click()&&n.bind.intent(),n.set.visible()}),e.proxy(p.onShow,E)())},hide:function(){!n.is.animated()&&n.is.visible()&&(n.debug("Hiding dropdown"),n.can.click()&&n.unbind.intent(),n.remove.active(),n.animate.hide(n.remove.visible),e.proxy(p.onHide,E)())},delay:{show:function(){n.verbose("Delaying show event to ensure user intent"),clearTimeout(n.timer),n.timer=setTimeout(n.show,p.delay.show)},hide:function(){n.verbose("Delaying hide event to ensure user intent"),clearTimeout(n.timer),n.timer=setTimeout(n.hide,p.delay.hide)}},hideOthers:function(){n.verbose("Finding other dropdowns to hide"),a.not(C).has(b.menu+":visible").dropdown("hide")},toggle:function(){n.verbose("Toggling menu visibility"),n.is.hidden()?n.show():n.hide()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},debug:function(){p.debug&&(p.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,p.name+":"),n.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,p.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,i,o;p.performance&&(t=(new Date).getTime(),o=l||t,i=t-o,l=t,u.push({Element:E,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var t=p.name+":",o=0;l=!1,clearTimeout(n.performance.timer),e.each(u,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,a,r){var s,c,l;return a=a||m,r=E||r,"string"==typeof t&&z!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(o,a){var r=o!=s?a+t[o+1].charAt(0).toUpperCase()+t[o+1].slice(1):t;if(e.isPlainObject(z[r])&&o!=s)z=z[r];else{if(z[r]!==i)return c=z[r],!1;if(!e.isPlainObject(z[a])||o==s)return z[a]!==i?(c=z[a],!1):(n.error(y.method,t),!1);z=z[a]}})),e.isFunction(c)?l=c.apply(r,a):c!==i&&(l=c),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),c}},f?(z===i&&n.initialize(),n.invoke(d)):(z!==i&&n.destroy(),n.initialize())}),o?o:this},e.fn.dropdown.settings={name:"Dropdown",namespace:"dropdown",verbose:!0,debug:!0,performance:!0,on:"click",action:"activate",delay:{show:200,hide:300,touch:50},transition:"slide down",duration:250,onChange:function(){},onShow:function(){},onHide:function(){},error:{action:"You called a dropdown action that was not defined",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{text:"text",value:"value"},selector:{menu:".menu",item:".menu > .item",text:"> .text",input:'> input[type="hidden"]'},className:{active:"active",placeholder:"default",disabled:"disabled",visible:"visible",selection:"selection"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){e.fn.modal=function(o){var a,r=e(this),s=e(t),c=e(n),l=(new Date).getTime(),u=[],d=arguments[0],f="string"==typeof d,m=[].slice.call(arguments,1);return r.each(function(){var p,g,h,v,b,y,w=e.isPlainObject(o)?e.extend(!0,{},e.fn.modal.settings,o):e.extend({},e.fn.modal.settings),x=w.selector,C=w.className,T=w.namespace,k=w.error,S="."+T,A="module-"+T,E=r.selector||"",z=e(this),$=e(w.context),P=z.find(x.close),F=this,D=z.data(A);y={initialize:function(){return y.verbose("Initializing dimmer",$),typeof e.fn.dimmer===i?(y.error(k.dimmer),void 0):(v=$.dimmer({closable:!1,useCSS:y.is.modernBrowser(),show:.9*w.duration,hide:1.1*w.duration}).dimmer("add content",z),b=v.dimmer("get dimmer"),g=z.siblings(x.modal),p=g.add(z),y.verbose("Attaching close events",P),P.on("click"+S,y.event.close),s.on("resize"+S,function(){y.event.debounce(y.refresh,50)}),y.instantiate(),void 0)},instantiate:function(){y.verbose("Storing instance of modal"),D=y,z.data(A,D)},destroy:function(){y.verbose("Destroying previous modal"),z.removeData(A).off(S),P.off(S),$.dimmer("destroy")},refresh:function(){y.remove.scrolling(),y.cacheSizes(),y.set.type(),y.set.position()},attachEvents:function(t,n){var i=e(t);n=e.isFunction(y[n])?y[n]:y.toggle,i.size()>0?(y.debug("Attaching modal events to element",t,n),i.off(S).on("click"+S,n)):y.error(k.notFound)},event:{close:function(){y.verbose("Closing element pressed"),e(this).is(x.approve)?e.proxy(w.onApprove,F)()!==!1?y.hide():y.verbose("Approve callback returned false cancelling hide"):e(this).is(x.deny)?e.proxy(w.onDeny,F)()!==!1?y.hide():y.verbose("Deny callback returned false cancelling hide"):y.hide()},click:function(t){0===e(t.target).closest(x.modal).size()&&(y.debug("Dimmer clicked, hiding all modals"),y.hideAll(),t.stopImmediatePropagation())},debounce:function(e,t){clearTimeout(y.timer),y.timer=setTimeout(e,t)},keyboard:function(e){var t=e.which,n=27;t==n&&(w.closable?(y.debug("Escape key pressed hiding modal"),y.hide()):y.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){v.dimmer("is active")&&y.refresh()}},toggle:function(){y.is.active()?y.hide():y.show()},show:function(t){t=e.isFunction(t)?t:function(){},y.showDimmer(),y.showModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},y.is.active()?y.debug("Modal is already visible"):(y.cacheSizes(),y.set.position(),y.set.type(),g.filter(":visible").size()>0?(y.debug("Other modals visible, queueing show animation"),y.hideOthers(y.showModal)):(w.transition&&e.fn.transition!==i&&z.transition("is supported")?(y.debug("Showing modal with css animations"),z.transition(w.transition+" in",w.duration,function(){y.set.active(),t()})):(y.debug("Showing modal with javascript"),z.fadeIn(w.duration,w.easing,function(){y.set.active(),t()})),e.proxy(w.onShow,F)()))},showDimmer:function(){v.dimmer("is active")?y.debug("Dimmer already visible"):(y.debug("Showing dimmer"),v.dimmer("show"))},hide:function(t){t=e.isFunction(t)?t:function(){},y.hideDimmer(),y.hideModal(t)},hideDimmer:function(){v.dimmer("is active")?(y.debug("Hiding dimmer"),w.closable&&b.off("click"+S),v.dimmer("hide")):y.debug("Dimmer is not visible cannot hide")},hideModal:function(t){t=e.isFunction(t)?t:function(){},y.is.active()&&(y.debug("Hiding modal"),y.remove.keyboardShortcuts(),w.transition&&e.fn.transition!==i&&z.transition("is supported")?z.transition(w.transition+" out",w.duration,function(){y.remove.active(),y.restore.focus(),t()}):z.fadeOut(w.duration,w.easing,function(){y.remove.active(),y.restore.focus(),t()}),e.proxy(w.onHide,F)())},hideAll:function(t){t=e.isFunction(t)?t:function(){},p.is(":visible")&&(y.debug("Hiding all visible modals"),y.hideDimmer(),p.filter(":visible").modal("hide modal",t))},hideOthers:function(t){t=e.isFunction(t)?t:function(){},g.is(":visible")&&(y.debug("Hiding other modals"),g.filter(":visible").modal("hide modal",t))},add:{keyboardShortcuts:function(){y.verbose("Adding keyboard shortcuts"),c.on("keyup"+S,y.event.keyboard)}},save:{focus:function(){h=e(n.activeElement).blur()}},restore:{focus:function(){h&&h.size()>0&&h.focus()}},remove:{active:function(){z.removeClass(C.active)},keyboardShortcuts:function(){y.verbose("Removing keyboard shortcuts"),c.off("keyup"+S)},scrolling:function(){v.removeClass(C.scrolling),z.removeClass(C.scrolling)}},cacheSizes:function(){y.cache={height:z.outerHeight()+w.offset,contextHeight:"body"==w.context?e(t).height():v.height()},y.debug("Caching modal and container sizes",y.cache)},can:{fit:function(){return y.cache.height<y.cache.contextHeight}},is:{active:function(){return z.hasClass(C.active)},modernBrowser:function(){return"Microsoft Internet Explorer"!==navigator.appName}},set:{active:function(){y.add.keyboardShortcuts(),y.save.focus(),z.addClass(C.active),w.closable&&b.off("click"+S).on("click"+S,y.event.click)},scrolling:function(){v.addClass(C.scrolling),z.addClass(C.scrolling)},type:function(){y.can.fit()?(y.verbose("Modal fits on screen"),y.remove.scrolling()):(y.verbose("Modal cannot fit on screen setting to scrolling"),y.set.scrolling())},position:function(){y.verbose("Centering modal on page",y.cache,y.cache.height/2),y.can.fit()?z.css({top:"",marginTop:-(y.cache.height/2)}):z.css({marginTop:"1em",top:c.scrollTop()})}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];w[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===i)return y[t];y[t]=n}},debug:function(){w.debug&&(w.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,w.name+":"),y.debug.apply(console,arguments)))},verbose:function(){w.verbose&&w.debug&&(w.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),y.verbose.apply(console,arguments)))},error:function(){y.error=Function.prototype.bind.call(console.error,console,w.name+":"),y.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;w.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,u.push({Element:F,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,100)},display:function(){var t=w.name+":",n=0;l=!1,clearTimeout(y.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",E&&(t+=" '"+E+"'"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var r,s,c;return n=n||m,o=F||o,"string"==typeof t&&D!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(D[a])&&n!=r)D=D[a];else{if(D[a]!==i)return s=D[a],!1;if(!e.isPlainObject(D[o])||n==r)return D[o]!==i?(s=D[o],!1):(y.error(k.method,t),!1);D=D[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},f?(D===i&&y.initialize(),y.invoke(d)):(D!==i&&y.destroy(),y.initialize())}),a!==i?a:this},e.fn.modal.settings={name:"Modal",namespace:"modal",debug:!0,verbose:!0,performance:!0,closable:!0,context:"body",duration:500,easing:"easeOutExpo",offset:0,transition:"scale",onShow:function(){},onHide:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve",deny:".actions .negative, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined."},className:{active:"active",scrolling:"scrolling"}}}(jQuery,window,document),function(e,t,n,i){e.fn.nag=function(n){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return e(this).each(function(){var f,m,p,g,h,v,b,y,w,x=e.extend(!0,{},e.fn.nag.settings,n),C=x.className,T=x.selector,k=x.error,S=x.namespace,A="."+S,E=S+"-module",z=e(this),$=z.find(T.close),P=e(x.context),F=this,D=z.data(E),j=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};w={initialize:function(){w.verbose("Initializing element"),f=z.offset(),m=z.outerHeight(),p=P.outerWidth(),g=P.outerHeight(),h=P.offset(),z.data(E,w),$.on("click"+A,w.dismiss),x.context==t&&"fixed"==x.position&&z.addClass(C.fixed),x.sticky&&(w.verbose("Adding scroll events"),"absolute"==x.position?P.on("scroll"+A,w.event.scroll).on("resize"+A,w.event.scroll):e(t).on("scroll"+A,w.event.scroll).on("resize"+A,w.event.scroll),e.proxy(w.event.scroll,this)()),x.displayTime>0&&setTimeout(w.hide,x.displayTime),w.should.show()?z.is(":visible")||w.show():w.hide()},destroy:function(){w.verbose("Destroying instance"),z.removeData(E).off(A),x.sticky&&P.off(A)},refresh:function(){w.debug("Refreshing cached calculations"),f=z.offset(),m=z.outerHeight(),p=P.outerWidth(),g=P.outerHeight(),h=P.offset()
},show:function(){w.debug("Showing nag",x.animation.show),"fade"==x.animation.show?z.fadeIn(x.duration,x.easing):z.slideDown(x.duration,x.easing)},hide:function(){w.debug("Showing nag",x.animation.hide),"fade"==x.animation.show?z.fadeIn(x.duration,x.easing):z.slideUp(x.duration,x.easing)},onHide:function(){w.debug("Removing nag",x.animation.hide),z.remove(),x.onHide&&x.onHide()},stick:function(){if(w.refresh(),"fixed"==x.position){var n=e(t).prop("pageYOffset")||e(t).scrollTop(),i=z.hasClass(C.bottom)?h.top+(g-m)-n:h.top-n;z.css({position:"fixed",top:i,left:h.left,width:p-x.scrollBarWidth})}else z.css({top:b})},unStick:function(){z.css({top:""})},dismiss:function(e){x.storageMethod&&w.storage.set(x.storedKey,x.storedValue),w.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return x.persist?(w.debug("Persistent nag is set, can show nag"),!0):w.storage.get(x.storedKey)!=x.storedValue?(w.debug("Stored value is not set, can show nag",w.storage.get(x.storedKey)),!0):(w.debug("Stored value is set, cannot show nag",w.storage.get(x.storedKey)),!1)},stick:function(){return v=P.prop("pageYOffset")||P.scrollTop(),b=z.hasClass(C.bottom)?g-z.outerHeight()+v:v,b>f.top?!0:"fixed"==x.position?!0:!1}},storage:{set:function(n,o){w.debug("Setting stored value",n,o,x.storageMethod),"local"==x.storageMethod&&t.store!==i?t.store.set(n,o):e.cookie!==i?e.cookie(n,o):w.error(k.noStorage)},get:function(n){return w.debug("Getting stored value",n,x.storageMethod),"local"==x.storageMethod&&t.store!==i?t.store.get(n):e.cookie!==i?e.cookie(n):(w.error(k.noStorage),void 0)}},event:{scroll:function(){y!==i&&clearTimeout(y),y=setTimeout(function(){w.should.stick()?j(w.stick):w.unStick()},x.lag)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},internal:function(t,n){return w.debug("Changing internal",t,n),n===i?w[t]:(e.isPlainObject(t)?e.extend(!0,w,t):w[t]=n,void 0)},debug:function(){x.debug&&(x.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,x.name+":"),w.debug.apply(console,arguments)))},verbose:function(){x.verbose&&x.debug&&(x.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),w.verbose.apply(console,arguments)))},error:function(){w.error=Function.prototype.bind.call(console.error,console,x.name+":"),w.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Element:F,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,100)},display:function(){var t=x.name+":",n=0;s=!1,clearTimeout(w.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),a.size()>1&&(t+=" ("+a.size()+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,c;return n=n||d,a=F||a,"string"==typeof t&&D!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(D[a])&&n!=r)D=D[a];else{if(D[a]!==i)return s=D[a],!1;if(!e.isPlainObject(D[o])||n==r)return D[o]!==i?(s=D[o],!1):(w.error(k.method,t),!1);D=D[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},u?(D===i&&w.initialize(),w.invoke(l)):(D!==i&&w.destroy(),w.initialize())}),o!==i?o:this},e.fn.nag.settings={name:"Nag",verbose:!0,debug:!0,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},position:"fixed",scrollBarWidth:18,storageMethod:"cookie",storedKey:"nag",storedValue:"dismiss",sticky:!1,lag:0,context:t,error:{noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".icon.close"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function(e,t,n,i){e.fn.popup=function(o){var a,r=e(this),s=e(n),c=r.selector||"",l=(new Date).getTime(),u=[],d=arguments[0],f="string"==typeof d,m=[].slice.call(arguments,1);return r.each(function(){var n,r=e.isPlainObject(o)?e.extend(!0,{},e.fn.popup.settings,o):e.extend({},e.fn.popup.settings),p=r.selector,g=r.className,h=r.error,v=r.metadata,b=r.namespace,y="."+r.namespace,w="module-"+b,x=e(this),C=e(r.context),T=r.target?e(r.target):x,k=e(t),S=r.inline?T.offsetParent():k,A=r.inline?T.next(r.selector.popup):k.children(r.selector.popup).last(),E=0,z=this,$=x.data(w);n={initialize:function(){n.debug("Initializing module",x),"click"==r.on?x.on("click",n.toggle):x.on(n.get.startEvent()+y,n.event.start).on(n.get.endEvent()+y,n.event.end),r.target&&n.debug("Target set to element",T),k.on("resize"+y,n.event.resize),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),$=n,x.data(w,$)},refresh:function(){r.inline?(A=T.next(p.popup),S=T.offsetParent()):A=k.children(p.popup).last()},destroy:function(){n.debug("Destroying previous module"),k.off(y),A.remove(),x.off(y).removeData(w)},event:{start:function(){n.timer=setTimeout(function(){n.is.hidden()&&n.show()},r.delay)},end:function(){clearTimeout(n.timer),n.is.visible()&&n.hide()},resize:function(){n.is.visible()&&n.set.position()}},create:function(){n.debug("Creating pop-up html");var t=x.data(v.html)||r.html,i=x.data(v.variation)||r.variation,o=x.data(v.title)||r.title,a=x.data(v.content)||x.attr("title")||r.content;t||a||o?(t||(t=r.template({title:o,content:a})),A=e("<div/>").addClass(g.popup).addClass(i).html(t),r.inline?(n.verbose("Inserting popup element inline",A),A.insertAfter(x)):(n.verbose("Appending popup element to body",A),A.appendTo(C)),e.proxy(r.onCreate,A)()):n.error(h.content)},toggle:function(){n.debug("Toggling pop-up"),n.is.hidden()?(n.hideAll(),n.show()):n.hide()},show:function(e){e=e||function(){},n.debug("Showing pop-up",r.transition),r.preserve||n.refresh(),n.exists()||n.create(),n.save.conditions(),n.set.position(),n.animate.show(e)},hide:function(e){e=e||function(){},x.removeClass(g.visible),n.restore.conditions(),n.unbind.close(),n.is.visible()&&n.animate.hide(e)},hideAll:function(){e(p.popup).filter(":visible").popup("hide")},hideGracefully:function(t){0===e(t.target).closest(p.popup).size()&&n.hide()},exists:function(){return r.inline?0!==A.size():A.parent(C).size()},remove:function(){n.debug("Removing popup"),A.remove()},save:{conditions:function(){n.cache={title:x.attr("title")},n.cache.title&&x.removeAttr("title"),n.verbose("Saving original attributes",n.cache.title)}},restore:{conditions:function(){return n.cache===i?(n.error(h.cache),!1):(n.cache.title&&x.attr("title",n.cache.title),n.verbose("Restoring original attributes",n.cache.title),!0)}},animate:{show:function(t){t=t||function(){},x.addClass(g.visible),r.transition&&e.fn.transition!==i&&x.transition("is supported")?A.transition(r.transition+" in",r.duration,function(){n.bind.close(),e.proxy(t,z)()}):A.stop().fadeIn(r.duration,r.easing,function(){n.bind.close(),e.proxy(t,z)()}),e.proxy(r.onShow,z)()},hide:function(t){t=t||function(){},n.debug("Hiding pop-up"),r.transition&&e.fn.transition!==i&&x.transition("is supported")?A.transition(r.transition+" out",r.duration,function(){n.reset(),t()}):A.stop().fadeOut(r.duration,r.easing,function(){n.reset(),t()}),e.proxy(r.onHide,z)()}},get:{startEvent:function(){return"hover"==r.on?"mouseenter":"focus"==r.on?"focus":void 0},endEvent:function(){return"hover"==r.on?"mouseleave":"focus"==r.on?"blur":void 0},offstagePosition:function(){var i={top:e(t).scrollTop(),bottom:e(t).scrollTop()+e(t).height(),left:0,right:e(t).width()},o={width:A.width(),height:A.outerHeight(),position:A.offset()},a={},r=[];return o.position&&(a={top:o.position.top<i.top,bottom:o.position.top+o.height>i.bottom,right:o.position.left+o.width>i.right,left:o.position.left<i.left}),n.verbose("Checking if outside viewable area",o.position),e.each(a,function(e,t){t&&r.push(e)}),r.length>0?r.join(" "):!1},nextPosition:function(e){switch(e){case"top left":e="bottom left";break;case"bottom left":e="top right";break;case"top right":e="bottom right";break;case"bottom right":e="top center";break;case"top center":e="bottom center";break;case"bottom center":e="right center";break;case"right center":e="left center";break;case"left center":e="top center"}return e}},set:{position:function(i,o){var a,s,c=(e(t).width(),e(t).height(),T.outerWidth()),l=T.outerHeight(),u=A.width(),d=A.outerHeight(),f=S.outerWidth(),m=S.outerHeight(),p=r.distanceAway,b=r.inline?T.position():T.offset();switch(i=i||x.data(v.position)||r.position,o=o||x.data(v.offset)||r.offset,r.inline&&("left center"==i||"right center"==i?(o+=parseInt(t.getComputedStyle(z).getPropertyValue("margin-top"),10),p+=-parseInt(t.getComputedStyle(z).getPropertyValue("margin-left"),10)):(o+=parseInt(t.getComputedStyle(z).getPropertyValue("margin-left"),10),p+=parseInt(t.getComputedStyle(z).getPropertyValue("margin-top"),10))),n.debug("Calculating offset for position",i),i){case"top left":a={bottom:m-b.top+p,right:f-b.left-o,top:"auto",left:"auto"};break;case"top center":a={bottom:m-b.top+p,left:b.left+c/2-u/2+o,top:"auto",right:"auto"};break;case"top right":a={top:"auto",bottom:m-b.top+p,left:b.left+c+o,right:"auto"};break;case"left center":a={top:b.top+l/2-d/2+o,right:f-b.left+p,left:"auto",bottom:"auto"};break;case"right center":a={top:b.top+l/2-d/2+o,left:b.left+c+p,bottom:"auto",right:"auto"};break;case"bottom left":a={top:b.top+l+p,right:f-b.left-o,left:"auto",bottom:"auto"};break;case"bottom center":a={top:b.top+l+p,left:b.left+c/2-u/2+o,bottom:"auto",right:"auto"};break;case"bottom right":a={top:b.top+l+p,left:b.left+c+o,bottom:"auto",right:"auto"}}return A.css(a).removeClass(g.position).addClass(i).addClass(g.loading),s=n.get.offstagePosition(),s?(n.debug("Element is outside boundaries",s),r.maxSearchDepth>E?(i=n.get.nextPosition(i),E++,n.debug("Trying new position",i),n.set.position(i)):(n.error(h.recursion),E=0,n.reset(),!1)):(n.debug("Position is on stage",i),E=0,!0)}},bind:{close:function(){"click"==r.on&&r.closable&&(n.verbose("Binding popup close event to document"),s.on("click"+y,n.hideGracefully))}},unbind:{close:function(){"click"==r.on&&r.closable&&(n.verbose("Removing close event from document"),s.off("click"+y))}},is:{visible:function(){return A.is(":visible")},hidden:function(){return!n.is.visible()}},reset:function(){A.attr("style","").removeAttr("style"),r.preserve||n.remove()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,r,t);else{if(n===i)return r[t];r[t]=n}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},debug:function(){r.debug&&(r.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,r.name+":"),n.debug.apply(console,arguments)))},verbose:function(){r.verbose&&r.debug&&(r.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,r.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,i,o;r.performance&&(t=(new Date).getTime(),o=l||t,i=t-o,l=t,u.push({Element:z,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var t=r.name+":",o=0;l=!1,clearTimeout(n.performance.timer),e.each(u,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",c&&(t+=" '"+c+"'"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,o,r){var s,c,l;return o=o||m,r=z||r,"string"==typeof t&&$!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(o,a){var r=o!=s?a+t[o+1].charAt(0).toUpperCase()+t[o+1].slice(1):t;if(e.isPlainObject($[a])&&o!=s)$=$[a];else{if(!e.isPlainObject($[r])||o==s)return $[a]!==i?(c=$[a],!1):$[r]!==i?(c=$[r],!1):(n.error(h.method,t),!1);$=$[r]}})),e.isFunction(c)?l=c.apply(r,o):c!==i&&(l=c),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),c}},f?($===i&&n.initialize(),n.invoke(d)):($!==i&&n.destroy(),n.initialize())}),a!==i?a:this},e.fn.popup.settings={name:"Popup",debug:!0,verbose:!0,performance:!0,namespace:"popup",onCreate:function(){},onShow:function(){},onHide:function(){},variation:"",content:!1,html:!1,title:!1,on:"hover",target:!1,closable:!0,context:"body",position:"top center",delay:150,inline:!1,preserve:!1,duration:250,easing:"easeOutQuint",transition:"scale",distanceAway:0,offset:0,maxSearchDepth:10,error:{content:"Your popup has no content specified",method:"The method you called is not defined.",recursion:"Popup attempted to reposition element to fit, but could not find an adequate position."},metadata:{content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},template:function(e){var t="";return typeof e!==i&&(typeof e.title!==i&&e.title&&(t+='<div class="header">'+e.title+'</div class="header">'),typeof e.content!==i&&e.content&&(t+='<div class="content">'+e.content+"</div>")),t}}}(jQuery,window,document),function(e,t,n,i){e.fn.rating=function(t){var n,o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1);return o.each(function(){var d,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),m=f.namespace,p=f.className,g=f.metadata,h=f.selector,v=f.error,b="."+m,y="module-"+m,w=this,x=e(this).data(y),C=e(this),T=C.find(h.icon);d={initialize:function(){d.verbose("Initializing rating module",f),f.interactive?d.enable():d.disable(),f.initialRating&&(d.debug("Setting initial rating"),d.setRating(f.initialRating)),C.data(g.rating)&&(d.debug("Rating found in metadata"),d.setRating(C.data(g.rating))),d.instantiate()},instantiate:function(){d.verbose("Instantiating module",f),x=d,C.data(y,d)},destroy:function(){d.verbose("Destroying previous instance",x),C.removeData(y),T.off(b)},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(p.hover),C.addClass(p.hover),t.addClass(p.hover).prevAll().addClass(p.hover)},mouseleave:function(){C.removeClass(p.hover),T.removeClass(p.hover)},click:function(){var t=e(this),n=d.getRating(),i=T.index(t)+1;f.clearable&&n==i?d.clearRating():d.setRating(i)}},clearRating:function(){d.debug("Clearing current rating"),d.setRating(0)},getRating:function(){var e=T.filter("."+p.active).size();return d.verbose("Current rating retrieved",e),e},enable:function(){d.debug("Setting rating to interactive mode"),T.on("mouseenter"+b,d.event.mouseenter).on("mouseleave"+b,d.event.mouseleave).on("click"+b,d.event.click),C.removeClass(p.disabled)},disable:function(){d.debug("Setting rating to read-only mode"),T.off(b),C.addClass(p.disabled)},setRating:function(t){var n=t-1>=0?t-1:0,i=T.eq(n);C.removeClass(p.hover),T.removeClass(p.hover).removeClass(p.active),t>0&&(d.verbose("Setting current rating to",t),i.addClass(p.active).prevAll().addClass(p.active)),e.proxy(f.onRate,w)(t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},debug:function(){f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Element:w,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,100)},display:function(){var t=f.name+":",n=0;r=!1,clearTimeout(d.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.size()>1&&(t+=" ("+o.size()+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,o,a){var r,s,c;return o=o||u,a=w||a,"string"==typeof t&&x!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(x[a])&&n!=r)x=x[a];else{if(x[a]!==i)return s=x[a],!1;if(!e.isPlainObject(x[o])||n==r)return x[o]!==i?(s=x[o],!1):(d.error(v.method,t),!1);x=x[o]}})),e.isFunction(s)?c=s.apply(a,o):s!==i&&(c=s),e.isArray(n)?n.push(c):n!==i?n=[n,c]:c!==i&&(n=c),s}},l?(x===i&&d.initialize(),d.invoke(c)):(x!==i&&d.destroy(),d.initialize())}),n!==i?n:this},e.fn.rating.settings={name:"Rating",namespace:"rating",verbose:!0,debug:!0,performance:!0,initialRating:0,interactive:!0,clearable:!1,onRate:function(){},error:{method:"The method you called is not defined"},metadata:{rating:"rating"},className:{active:"active",disabled:"disabled",hover:"hover",loading:"loading"},selector:{icon:".icon"}}}(jQuery,window,document),function(e,t,n,i){e.fn.search=function(n,o){var a,r=e(this),s=r.selector||"",c=(new Date).getTime(),l=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1);return e(this).each(function(){var m,p=e.extend(!0,{},e.fn.search.settings,o),g=p.className,h=p.selector,v=p.error,b=p.namespace,y="."+b,w=b+"-module",x=e(this),C=x.find(h.prompt),T=x.find(h.searchButton),k=x.find(h.results),S=(x.find(h.result),x.find(h.category),this),A=x.data(w);m={initialize:function(){m.verbose("Initializing module");var e=C[0],t=e.oninput!==i?"input":e.onpropertychange!==i?"propertychange":"keyup";C.on("focus"+y,m.event.focus).on("blur"+y,m.event.blur).on("keydown"+y,m.handleKeyboard),p.automatic&&C.on(t+y,m.search.throttle),T.on("click"+y,m.search.query),k.on("click"+y,h.result,m.results.select),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),A=m,x.data(w,m)},destroy:function(){m.verbose("Destroying instance"),x.removeData(w)},event:{focus:function(){x.addClass(g.focus),m.results.show()},blur:function(){m.search.cancel(),x.removeClass(g.focus),m.results.hide()}},handleKeyboard:function(t){var n,i=x.find(h.result),o=x.find(h.category),a=t.which,r={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40},s=g.active,c=i.index(i.filter("."+s)),l=i.size();if(a==r.escape&&(m.verbose("Escape key pressed, blurring search field"),C.trigger("blur")),k.filter(":visible").size()>0)if(a==r.enter){if(m.verbose("Enter key pressed, selecting active result"),i.filter("."+s).exists())return e.proxy(m.results.select,i.filter("."+s))(),t.preventDefault(),!1}else a==r.upArrow?(m.verbose("Up key pressed, changing active result"),n=0>c-1?c:c-1,o.removeClass(s),i.removeClass(s).eq(n).addClass(s).closest(o).addClass(s),t.preventDefault()):a==r.downArrow&&(m.verbose("Down key pressed, changing active result"),n=c+1>=l?c:c+1,o.removeClass(s),i.removeClass(s).eq(n).addClass(s).closest(o).addClass(s),t.preventDefault());else a==r.enter&&(m.verbose("Enter key pressed, executing query"),m.search.query(),T.addClass(g.down),C.one("keyup",function(){T.removeClass(g.down)}))},search:{cancel:function(){var e=x.data("xhr")||!1;e&&"resolved"!=e.state()&&(m.debug("Cancelling last search"),e.abort())},throttle:function(){var e=C.val(),t=e.length;clearTimeout(m.timer),t>=p.minCharacters?m.timer=setTimeout(m.search.query,p.searchThrottle):m.results.hide()},query:function(){var t=C.val(),i=m.search.cache.read(t);i?(m.debug("Reading result for '"+t+"' from cache"),m.results.add(i)):(m.debug("Querying for '"+t+"'"),"object"==typeof n?m.search.local(t):m.search.remote(t),e.proxy(p.onSearchQuery,x)(t))},local:function(t){var i,o=[],a=[],r=e.isArray(p.searchFields)?p.searchFields:[p.searchFields],s=RegExp("(?:s|^)"+t,"i"),c=RegExp(t,"i");x.addClass(g.loading),e.each(r,function(t,i){e.each(n,function(t,n){"string"==typeof n[i]&&-1==e.inArray(n,o)&&-1==e.inArray(n,a)&&(s.test(n[i])?o.push(n):c.test(n[i])&&a.push(n))})}),i=m.results.generate({results:e.merge(o,a)}),x.removeClass(g.loading),m.search.cache.write(t,i),m.results.add(i)},remote:function(t){var i,o={stateContext:x,url:n,urlData:{query:t},success:function(e){i=m.results.generate(e),m.search.cache.write(t,i),m.results.add(i)},failure:m.error};m.search.cancel(),m.debug("Executing search"),e.extend(!0,o,p.apiSettings),e.api(o)},cache:{read:function(e){var t=x.data("cache");return p.cache&&"object"==typeof t&&t[e]!==i?t[e]:!1},write:function(e,t){var n=x.data("cache")!==i?x.data("cache"):{};n[e]=t,x.data("cache",n)}}},results:{generate:function(t){m.debug("Generating html from response",t);var n=p.templates[p.type],i="";return e.isPlainObject(t.results)&&!e.isEmptyObject(t.results)||e.isArray(t.results)&&t.results.length>0?(p.maxResults>0&&(t.results=e.makeArray(t.results).slice(0,p.maxResults)),t.results.length>0&&(e.isFunction(n)?i=n(t):m.error(v.noTemplate,!1))):i=m.message(v.noResults,"empty"),e.proxy(p.onResults,x)(t),i},add:function(t){("default"==p.onResultsAdd||"default"==e.proxy(p.onResultsAdd,k)(t))&&k.html(t),m.results.show()},show:function(){0===k.filter(":visible").size()&&C.filter(":focus").size()>0&&""!==k.html()&&(k.stop().fadeIn(200),e.proxy(p.onResultsOpen,k)())},hide:function(){k.filter(":visible").size()>0&&(k.stop().fadeOut(200),e.proxy(p.onResultsClose,k)())},select:function(n){m.debug("Search result selected");var i=e(this),o=i.find(".title"),a=o.html();if("default"==p.onSelect||"default"==e.proxy(p.onSelect,this)(n)){var r=i.find("a[href]").eq(0),s=r.attr("href")||!1,c=r.attr("target")||!1;m.results.hide(),C.val(a),s&&("_blank"==c||n.ctrlKey?t.open(s):t.location.href=s)}}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){p.debug&&(p.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,p.name+":"),m.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,p.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=c||t,n=t-i,c=t,l.push({Element:S,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,100)},display:function(){var t=p.name+":",n=0;c=!1,clearTimeout(m.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),r.size()>1&&(t+=" ("+r.size()+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var r,s,c;return n=n||f,o=S||o,"string"==typeof t&&A!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(A[a])&&n!=r)A=A[a];else{if(A[a]!==i)return s=A[a],!1;if(!e.isPlainObject(A[o])||n==r)return A[o]!==i?(s=A[o],!1):(m.error(v.method,t),!1);A=A[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},d?(A===i&&m.initialize(),m.invoke(u)):(A!==i&&m.destroy(),m.initialize())}),a!==i?a:this},e.fn.search.settings={name:"Search Module",namespace:"search",debug:!0,verbose:!0,performance:!0,onSelect:"default",onResultsAdd:"default",onSearchQuery:function(){},onResults:function(){},onResultsOpen:function(){},onResultsClose:function(){},automatic:"true",type:"simple",minCharacters:3,searchThrottle:300,maxResults:7,cache:!0,searchFields:["title","description"],apiSettings:{},className:{active:"active",down:"down",focus:"focus",empty:"empty",loading:"loading"},error:{noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noTemplate:"A valid template name was not specified.",serverError:"There was an issue with querying the server.",method:"The method you called is not defined."},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result"},templates:{message:function(e,t){var n="";return e!==i&&t!==i&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},categories:function(t){var n="";return t.results!==i?(e.each(t.results,function(t,o){o.results!==i&&o.results.length>0&&(n+='<div class="category"><div class="name">'+o.name+"</div>",e.each(o.results,function(e,t){n+='<div class="result">',n+='<a href="'+t.url+'"></a>',t.image!==i&&(n+='<div class="image"> <img src="'+t.image+'"></div>'),n+='<div class="info">',t.price!==i&&(n+='<div class="price">'+t.price+"</div>"),t.title!==i&&(n+='<div class="title">'+t.title+"</div>"),t.description!==i&&(n+='<div class="description">'+t.description+"</div>"),n+="</div></div>"}),n+="</div>")}),t.resultPage&&(n+='<a href="'+t.resultPage.url+'" class="all">'+t.resultPage.text+"</a>"),n):!1},simple:function(t){var n="";return t.results!==i?(e.each(t.results,function(e,t){n+='<a class="result" href="'+t.url+'">',t.image!==i&&(n+='<div class="image"> <img src="'+t.image+'"></div>'),n+='<div class="info">',t.price!==i&&(n+='<div class="price">'+t.price+"</div>"),t.title!==i&&(n+='<div class="title">'+t.title+"</div>"),t.description!==i&&(n+='<div class="description">'+t.description+"</div>"),n+="</div></a>"}),t.resultPage&&(n+='<a href="'+t.resultPage.url+'" class="all">'+t.resultPage.text+"</a>"),n):!1}}}}(jQuery,window,document),function(e,t,n,i){e.fn.shape=function(t){var o,a=e(this),r=e("body"),s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var f,m,p,g=a.selector||"",h=e.extend(!0,{},e.fn.shape.settings,t),v=h.namespace,b=h.selector,y=h.error,w=h.className,x="."+v,C="module-"+v,T=e(this),k=T.find(b.sides),S=T.find(b.side),A=!1,E=this,z=T.data(C);p={initialize:function(){p.verbose("Initializing module for",E),p.set.defaultSide(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),z=p,T.data(C,z)},destroy:function(){p.verbose("Destroying previous module for",E),T.removeData(C).off(x)},refresh:function(){p.verbose("Refreshing selector cache for",E),T=e(E),k=e(this).find(b.shape),S=e(this).find(b.side)},repaint:function(){p.verbose("Forcing repaint event");var e=k.get(0)||n.createElement("div");e.offsetWidth},animate:function(t,n){p.verbose("Animating box with properties",t),n=n||function(e){p.verbose("Executing animation callback"),e!==i&&e.stopPropagation(),p.reset(),p.set.active()},e.proxy(h.beforeChange,m[0])(),p.get.transitionEvent()?(p.verbose("Starting CSS animation"),T.addClass(w.animating),p.repaint(),T.addClass(w.animating),f.addClass(w.hidden),k.css(t).one(p.get.transitionEvent(),n),p.set.duration(h.duration)):n()},queue:function(e){p.debug("Queueing animation of",e),k.one(p.get.transitionEvent(),function(){p.debug("Executing queued animation"),setTimeout(function(){T.shape(e)},0)})},reset:function(){p.verbose("Animating states reset"),T.removeClass(w.animating).attr("style","").removeAttr("style"),k.attr("style","").removeAttr("style"),S.attr("style","").removeAttr("style").removeClass(w.hidden),m.removeClass(w.animating).attr("style","").removeAttr("style")},is:{animating:function(){return T.hasClass(w.animating)}},set:{defaultSide:function(){f=T.find("."+h.className.active),m=f.next(b.side).size()>0?f.next(b.side):T.find(b.side).first(),A=!1,p.verbose("Active side set to",f),p.verbose("Next side set to",m)},duration:function(e){e=e||h.duration,e="number"==typeof e?e+"ms":e,p.verbose("Setting animation duration",e),k.add(S).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},stageSize:function(){var e=T.clone().addClass(w.loading),t=e.find("."+h.className.active),n=A?e.find(A):t.next(b.side).size()>0?t.next(b.side):e.find(b.side).first(),i={};t.removeClass(w.active),n.addClass(w.active),e.prependTo(r),i={width:n.outerWidth(),height:n.outerHeight()},e.remove(),T.css(i),p.verbose("Resizing stage to fit new content",i)},nextSide:function(e){A=e,m=T.find(e),0===m.size()&&p.error(y.side),p.verbose("Next side manually set to",m)},active:function(){p.verbose("Setting new side to active",m),S.removeClass(w.active),m.addClass(w.active),e.proxy(h.onChange,m[0])(),p.set.defaultSide()}},flip:{up:function(){p.debug("Flipping up",m),p.is.animating()?p.queue("flip up"):(p.set.stageSize(),p.stage.above(),p.animate(p.get.transform.up()))},down:function(){p.debug("Flipping down",m),p.is.animating()?p.queue("flip down"):(p.set.stageSize(),p.stage.below(),p.animate(p.get.transform.down()))},left:function(){p.debug("Flipping left",m),p.is.animating()?p.queue("flip left"):(p.set.stageSize(),p.stage.left(),p.animate(p.get.transform.left()))},right:function(){p.debug("Flipping right",m),p.is.animating()?p.queue("flip right"):(p.set.stageSize(),p.stage.right(),p.animate(p.get.transform.right()))},over:function(){p.debug("Flipping over",m),p.is.animating()?p.queue("flip over"):(p.set.stageSize(),p.stage.behind(),p.animate(p.get.transform.over()))},back:function(){p.debug("Flipping back",m),p.is.animating()?p.queue("flip back"):(p.set.stageSize(),p.stage.behind(),p.animate(p.get.transform.back()))}},get:{transform:{up:function(){var e={y:-((f.outerHeight()-m.outerHeight())/2),z:-(f.outerHeight()/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(-90deg)"}},down:function(){var e={y:-((f.outerHeight()-m.outerHeight())/2),z:-(f.outerHeight()/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(90deg)"}},left:function(){var e={x:-((f.outerWidth()-m.outerWidth())/2),z:-(f.outerWidth()/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(90deg)"}},right:function(){var e={x:-((f.outerWidth()-m.outerWidth())/2),z:-(f.outerWidth()/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(-90deg)"}},over:function(){var e={x:-((f.outerWidth()-m.outerWidth())/2)};return{transform:"translateX("+e.x+"px) rotateY(180deg)"}},back:function(){var e={x:-((f.outerWidth()-m.outerWidth())/2)};return{transform:"translateX("+e.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=n.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(t.style[e]!==i)return o[e]},nextSide:function(){return f.next(b.side).size()>0?f.next(b.side):T.find(b.side).first()}},stage:{above:function(){var e={origin:(f.outerHeight()-m.outerHeight())/2,depth:{active:m.outerHeight()/2,next:f.outerHeight()/2}};
p.verbose("Setting the initial animation position as above",m,e),f.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),m.addClass(w.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(f.outerHeight()-m.outerHeight())/2,depth:{active:m.outerHeight()/2,next:f.outerHeight()/2}};p.verbose("Setting the initial animation position as below",m,e),f.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),m.addClass(w.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={origin:(f.outerWidth()-m.outerWidth())/2,depth:{active:m.outerWidth()/2,next:f.outerWidth()/2}};p.verbose("Setting the initial animation position as left",m,e),f.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),m.addClass(w.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-90deg) translateZ("+e.depth.next+"px)"})},right:function(){var e={origin:(f.outerWidth()-m.outerWidth())/2,depth:{active:m.outerWidth()/2,next:f.outerWidth()/2}};p.verbose("Setting the initial animation position as left",m,e),f.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),m.addClass(w.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(90deg) translateZ("+e.depth.next+"px)"})},behind:function(){var e={origin:(f.outerWidth()-m.outerWidth())/2,depth:{active:m.outerWidth()/2,next:f.outerWidth()/2}};p.verbose("Setting the initial animation position as behind",m,e),f.css({transform:"rotateY(0deg)"}),m.addClass(w.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},debug:function(){h.debug&&(h.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,h.name+":"),p.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,h.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Element:E,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,100)},display:function(){var t=h.name+":",n=0;s=!1,clearTimeout(p.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",g&&(t+=" '"+g+"'"),a.size()>1&&(t+=" ("+a.size()+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,c;return n=n||d,a=E||a,"string"==typeof t&&z!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(z[a])&&n!=r)z=z[a];else{if(z[a]!==i)return s=z[a],!1;if(!e.isPlainObject(z[o])||n==r)return z[o]!==i?(s=z[o],!1):(p.error(y.method,t),!1);z=z[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},u?(z===i&&p.initialize(),p.invoke(l)):(z!==i&&p.destroy(),p.initialize())}),o!==i?o:this},e.fn.shape.settings={name:"Shape",debug:!0,verbose:!0,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},duration:700,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(e,t,n,i){e.fn.sidebar=function(t){var o,a=e(this),r=e("body"),s=e("head"),c=a.selector||"",l=(new Date).getTime(),u=[],d=arguments[0],f="string"==typeof d,m=[].slice.call(arguments,1);return a.each(function(){var p,g=e.isPlainObject(t)?e.extend(!0,{},e.fn.sidebar.settings,t):e.extend({},e.fn.sidebar.settings),h=g.selector,v=g.className,b=g.namespace,y=g.error,w="."+b,x="module-"+b,C=e(this),T=e("style[title="+b+"]"),k=this,S=C.data(x);p={initialize:function(){p.debug("Initializing sidebar",C),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),S=p,C.data(x,p)},destroy:function(){p.verbose("Destroying previous module for",C),C.off(w).removeData(x)},refresh:function(){p.verbose("Refreshing selector cache"),T=e("style[title="+b+"]")},attachEvents:function(t,n){var i=e(t);n=e.isFunction(p[n])?p[n]:p.toggle,i.size()>0?(p.debug("Attaching sidebar events to element",t,n),i.off(w).on("click"+w,n)):p.error(y.notFound)},show:function(t){t=e.isFunction(t)?t:function(){},p.debug("Showing sidebar",t),p.is.closed()?(g.overlay||(g.exclusive&&p.hideAll(),p.pushPage()),p.set.active(),t(),e.proxy(g.onChange,k)(),e.proxy(g.onShow,k)()):p.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},p.debug("Hiding sidebar",t),p.is.open()&&(g.overlay||(p.pullPage(),p.remove.pushed()),p.remove.active(),t(),e.proxy(g.onChange,k)(),e.proxy(g.onHide,k)())},hideAll:function(){e(h.sidebar).filter(":visible").sidebar("hide")},toggle:function(){p.is.closed()?p.show():p.hide()},pushPage:function(){var e=p.get.direction(),t=p.is.vertical()?C.outerHeight():C.outerWidth();g.useCSS?(p.debug("Using CSS to animate body"),p.add.bodyCSS(e,t),p.set.pushed()):p.animatePage(e,t,p.set.pushed)},pullPage:function(){var e=p.get.direction();g.useCSS?(p.debug("Resetting body position css"),p.remove.bodyCSS()):(p.debug("Resetting body position using javascript"),p.animatePage(e,0)),p.remove.pushed()},animatePage:function(e,t){var n={};n["padding-"+e]=t,p.debug("Using javascript to animate body",n),r.animate(n,g.duration,p.set.pushed)},add:{bodyCSS:function(e,t){var n,i;e!==v.bottom&&(n="right"===e?-1:1,i='<style title="'+b+'">body.pushed {  margin-left: '+n*t+"px !important;}</style>"),s.append(i),p.debug("Adding body css to head",T)}},remove:{bodyCSS:function(){p.debug("Removing body css styles",T),p.refresh(),T.remove()},active:function(){C.removeClass(v.active)},pushed:function(){p.verbose("Removing body push state",p.get.direction()),r.removeClass(v[p.get.direction()]).removeClass(v.pushed)}},set:{active:function(){C.addClass(v.active)},pushed:function(){p.verbose("Adding body push state",p.get.direction()),r.addClass(v[p.get.direction()]).addClass(v.pushed)}},get:{direction:function(){return C.hasClass(v.top)?v.top:C.hasClass(v.right)?v.right:C.hasClass(v.bottom)?v.bottom:v.left},transitionEvent:function(){var e,t=n.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(t.style[e]!==i)return o[e]}},is:{open:function(){return C.is(":animated")||C.hasClass(v.active)},closed:function(){return!p.is.open()},vertical:function(){return C.hasClass(v.top)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},debug:function(){g.debug&&(g.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,g.name+":"),p.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,g.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,u.push({Element:k,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,100)},display:function(){var t=g.name+":",n=0;l=!1,clearTimeout(p.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",c&&(t+=" '"+c+"'"),a.size()>1&&(t+=" ("+a.size()+")"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,a){var r,s,c;return n=n||m,a=k||a,"string"==typeof t&&S!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(S[a])&&n!=r)S=S[a];else{if(S[a]!==i)return s=S[a],!1;if(!e.isPlainObject(S[o])||n==r)return S[o]!==i?(s=S[o],!1):(p.error(y.method,t),!1);S=S[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},f?(S===i&&p.initialize(),p.invoke(d)):(S!==i&&p.destroy(),p.initialize())}),o!==i?o:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",verbose:!0,debug:!0,performance:!0,useCSS:!0,exclusive:!0,overlay:!1,duration:300,onChange:function(){},onShow:function(){},onHide:function(){},className:{active:"active",pushed:"pushed",top:"top",left:"left",right:"right",bottom:"bottom"},selector:{sidebar:".ui.sidebar"},error:{method:"The method you called is not defined.",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,t,n,i){e.fn.tab=function(n){var o,a,r,s,c,l=e.extend(!0,{},e.fn.tab.settings,n),u=e(this),d=e(l.context).find(l.selector.tabs),f=u.selector||"",m={},p=!0,g=0,h=this,v=(new Date).getTime(),b=[],y=l.className,w=l.metadata,x=l.error,C="."+l.namespace,T="module-"+l.namespace,k=u.data(T),S=arguments[0],A=k!==i&&"string"==typeof S,E=[].slice.call(arguments,1);return s={initialize:function(){if(s.debug("Initializing Tabs",u),l.auto&&(s.verbose("Setting up automatic tab retrieval from server"),l.apiSettings={url:l.path+"/{$tab}"}),l.history){if(s.debug("Initializing page state"),e.address===i)return s.error(x.state),!1;if("hash"==l.historyType&&s.debug("Using hash state change to manage state"),"html5"==l.historyType){if(s.debug("Using HTML5 to manage state"),l.path===!1)return s.error(x.path),!1;e.address.history(!0).state(l.path)}e.address.unbind("change").bind("change",s.event.history.change)}e.isWindow(h)||(s.debug("Attaching tab activation events to element",u),u.on("click"+C,s.event.click)),s.instantiate()},instantiate:function(){s.verbose("Storing instance of module",s),u.data(T,s)},destroy:function(){s.debug("Destroying tabs",u),u.removeData(T).off(C)},event:{click:function(t){var n=e(this).data(w.tab);n!==i?(l.history?(s.verbose("Updating page state",t),e.address.value(n)):(s.verbose("Changing tab without state management",t),s.changeTab(n)),t.preventDefault()):s.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||s.get.initialPath(),o=l.templates.determineTitle(n)||!1;s.debug("History change event",n,t),r=t,n!==i&&s.changeTab(n),o&&e.address.title(o)}}},refresh:function(){o&&(s.debug("Refreshing tab",o),s.changeTab(o))},cache:{read:function(e){return e!==i?m[e]:!1},add:function(e,t){e=e||o,s.debug("Adding cached content for",e),m[e]=t},remove:function(e){e=e||o,s.debug("Removing cached content for",e),delete m[e]}},set:{state:function(t){e.address.value(t)}},changeTab:function(n){var i=t.history&&t.history.pushState,c=i&&l.ignoreFirstLoad&&p,u=l.auto||e.isPlainObject(l.apiSettings),d=u&&!c?s.utilities.pathToArray(n):s.get.defaultPathArray(n);n=s.utilities.arrayToPath(d),s.deactivate.all(),e.each(d,function(t,i){var f,m,g,h=d.slice(0,t+1),v=s.utilities.arrayToPath(h),b=s.is.tab(v),y=t+1==d.length,w=s.get.tabElement(v);return s.verbose("Looking for tab",i),b?(s.verbose("Tab was found",i),o=v,a=s.utilities.filterArray(d,h),y?g=!0:(f=d.slice(0,t+2),m=s.utilities.arrayToPath(f),g=!s.is.tab(m),g&&s.verbose("Tab parameters found",f)),g&&u?(c?(s.debug("Ignoring remote content on first tab load",v),p=!1,s.cache.add(n,w.html()),s.activate.all(v),e.proxy(l.onTabInit,w)(v,a,r),e.proxy(l.onTabLoad,w)(v,a,r)):(s.activate.navigation(v),s.content.fetch(v,n)),!1):(s.debug("Opened local tab",v),s.activate.all(v),s.cache.read(v)||(s.cache.add(v,!0),s.debug("First time tab loaded calling tab init"),e.proxy(l.onTabInit,w)(v,a,r)),e.proxy(l.onTabLoad,w)(v,a,r),void 0)):(s.error(x.missingTab,i),!1)})},content:{fetch:function(t,n){var c,u,d=s.get.tabElement(t),f={dataType:"html",stateContext:d,success:function(i){s.cache.add(n,i),s.content.update(t,i),t==o?(s.debug("Content loaded",t),s.activate.tab(t)):s.debug("Content loaded in background",t),e.proxy(l.onTabInit,d)(t,a,r),e.proxy(l.onTabLoad,d)(t,a,r)},urlData:{tab:n}},m=d.data(w.promise)||!1,p=m&&"pending"===m.state();n=n||t,u=s.cache.read(n),l.cache&&u?(s.debug("Showing existing content",n),s.content.update(t,u),s.activate.tab(t),e.proxy(l.onTabLoad,d)(t,a,r)):p?(s.debug("Content is already loading",n),d.addClass(y.loading)):e.api!==i?(console.log(l.apiSettings),c=e.extend(!0,{headers:{"X-Remote":!0}},l.apiSettings,f),s.debug("Retrieving remote content",n,c),e.api(c)):s.error(x.api)},update:function(e,t){s.debug("Updating html for",e);var n=s.get.tabElement(e);n.html(t)}},activate:{all:function(e){s.activate.tab(e),s.activate.navigation(e)},tab:function(e){var t=s.get.tabElement(e);s.verbose("Showing tab content for",t),t.addClass(y.active)},navigation:function(e){var t=s.get.navElement(e);s.verbose("Activating tab navigation for",t,e),t.addClass(y.active)}},deactivate:{all:function(){s.deactivate.navigation(),s.deactivate.tabs()},navigation:function(){u.removeClass(y.active)},tabs:function(){d.removeClass(y.active+" "+y.loading)}},is:{tab:function(e){return e!==i?s.get.tabElement(e).size()>0:!1}},get:{initialPath:function(){return u.eq(0).data(w.tab)||d.eq(0).data(w.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return s.utilities.pathToArray(s.get.defaultPath(e))},defaultPath:function(e){var t=u.filter("[data-"+w.tab+'^="'+e+'/"]').eq(0),n=t.data(w.tab)||!1;if(n){if(s.debug("Found default tab",n),l.maxDepth>g)return g++,s.get.defaultPath(n);s.error(x.recursion)}else s.debug("No default tabs found for",e,d);return g=0,e},navElement:function(e){return e=e||o,u.filter("[data-"+w.tab+'="'+e+'"]')},tabElement:function(e){var t,n,i,a;return e=e||o,i=s.utilities.pathToArray(e),a=s.utilities.last(i),t=d.filter("[data-"+w.tab+'="'+a+'"]'),n=d.filter("[data-"+w.tab+'="'+e+'"]'),t.size()>0?t:n},tab:function(){return o}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return e.isArray(t)?t[t.length-1]:!1},pathToArray:function(e){return e===i&&(e=o),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return e.isArray(t)?t.join("/"):!1}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,l,t);else{if(n===i)return l[t];l[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,s,t);else{if(n===i)return s[t];s[t]=n}},debug:function(){l.debug&&(l.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,l.name+":"),s.debug.apply(console,arguments)))},verbose:function(){l.verbose&&l.debug&&(l.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,l.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;l.performance&&(t=(new Date).getTime(),i=v||t,n=t-i,v=t,b.push({Element:h,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,100)},display:function(){var t=l.name+":",n=0;v=!1,clearTimeout(s.performance.timer),e.each(b,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",f&&(t+=" '"+f+"'"),(console.group!==i||console.table!==i)&&b.length>0&&(console.groupCollapsed(t),console.table?console.table(b):e.each(b,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),b=[]}},invoke:function(t,n,o){var a,r,l;return n=n||E,o=h||o,"string"==typeof t&&k!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,o){var c=n!=a?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(k[o])&&n!=a)k=k[o];else{if(!e.isPlainObject(k[c])||n==a)return k[o]!==i?(r=k[o],!1):k[c]!==i?(r=k[c],!1):(s.error(x.method,t),!1);k=k[c]}})),e.isFunction(r)?l=r.apply(o,n):r!==i&&(l=r),e.isArray(c)?c.push(l):c!==i?c=[c,l]:l!==i&&(c=l),r}},A?(k===i&&s.initialize(),s.invoke(S)):(k!==i&&s.destroy(),s.initialize()),c!==i?c:this},e.tab=function(n){e(t).tab(n)},e.fn.tab.settings={name:"Tab",verbose:!0,debug:!0,performance:!0,namespace:"tab",onTabInit:function(){},onTabLoad:function(){},templates:{determineTitle:function(){}},auto:!1,history:!0,historyType:"hash",path:!1,context:"body",maxDepth:25,ignoreFirstLoad:!1,alwaysRefresh:!1,cache:!0,apiSettings:!1,error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Tab cannot be found",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",state:"The state library has not been initialized"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab"}}}(jQuery,window,document),function(e,t,n,i){e.fn.transition=function(){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),c=[],l=arguments,u=l[0],d=[].slice.call(arguments,1),f="string"==typeof u;return t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},a.each(function(){var t,m,p,g,h,v,b,y,w,x,C=e(this),T=this;x={initialize:function(){t=x.get.settings.apply(T,l),x.verbose("Converted arguments into settings object",t),p=t.error,g=t.className,y=t.namespace,h=t.metadata,w="module-"+y,v=x.get.animationEvent(),b=x.get.animationName(),m=C.data(w),m===i&&x.instantiate(),f&&(f=x.invoke(u)),f===!1&&x.animate()},instantiate:function(){x.verbose("Storing instance of module",x),m=x,C.data(w,m)},destroy:function(){x.verbose("Destroying previous module for",T),C.removeData(w)},animate:function(e){return t=e||t,x.is.supported()?(x.debug("Preparing animation",t.animation),x.is.animating()?(t.queue&&x.queue(t.animation),!1):(x.save.conditions(),x.set.duration(t.duration),x.set.animating(),x.repaint(),C.addClass(g.transition).addClass(t.animation).one(v,x.complete),!x.has.direction()&&x.can.transition()&&x.set.direction(),x.has.transitionAvailable()?(x.show(),x.debug("Starting tween",t.animation,C.attr("class")),void 0):(x.restore.conditions(),x.error(p.noAnimation,t.animation),!1))):(x.error(p.support),!1)},queue:function(e){x.debug("Queueing animation of",e),m.queuing=!0,C.one(v,function(){m.queuing=!1,x.animate.apply(this,t)})},complete:function(){x.verbose("CSS animation complete",t.animation),x.is.looping()||(C.hasClass(g.outward)?(x.restore.conditions(),x.hide(),e.proxy(t.onHide,this)()):C.hasClass(g.inward)?(x.restore.conditions(),x.show(),e.proxy(t.onShow,this)()):x.restore.conditions(),x.remove.animating()),e.proxy(t.complete,this)()},forceRepaint:function(){x.verbose("Forcing element repaint");var e=C.parent(),t=C.next();0===t.size()?C.detach().appendTo(e):C.detach().insertBefore(t)},repaint:function(){x.verbose("Repainting element"),T.offsetWidth},has:{direction:function(e){return e=e||t.animation,C.hasClass(g.inward)||C.hasClass(g.outward)?!0:void 0},transitionAvailable:function(){return"none"!==C.css(b)?(x.debug("CSS definition found"),!0):(x.debug("Unable to find css definition"),!1)}},set:{animating:function(){C.addClass(g.animating)},direction:function(){C.is(":visible")?(x.debug("Automatically determining the direction of animation","Outward"),C.addClass(g.outward).removeClass(g.inward)):(x.debug("Automatically determining the direction of animation","Inward"),C.addClass(g.inward).removeClass(g.outward))},looping:function(){x.debug("Transition set to loop"),C.addClass(g.looping)},duration:function(e){e=e||t.duration,e="number"==typeof e?e+"ms":e,x.verbose("Setting animation duration",e),C.css({"-webkit-animation-duration":e,"-moz-animation-duration":e,"-ms-animation-duration":e,"-o-animation-duration":e,"animation-duration":e})}},save:{conditions:function(){x.cache={className:C.attr("class"),style:C.attr("style")},x.verbose("Saving original attributes",x.cache)}},restore:{conditions:function(){return typeof x.cache===i?(x.error(p.cache),!1):(x.cache.className?C.attr("class",x.cache.className):C.removeAttr("class"),x.cache.style?C.attr("style",x.cache.style):C.removeAttr("style"),x.is.looping()&&x.remove.looping(),x.verbose("Restoring original attributes",x.cache),void 0)}},remove:{animating:function(){C.removeClass(g.animating)},looping:function(){x.debug("Transitions are no longer looping"),C.removeClass(g.looping),x.forceRepaint()}},get:{settings:function(t,n,i){return e.isPlainObject(t)?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend(!0,{},e.fn.transition.settings,{animation:t,complete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend(!0,{},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend(!0,{},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend(!0,{},e.fn.transition.settings,{animation:t,complete:n}):e.extend(!0,{},e.fn.transition.settings,{animation:t})},animationName:function(){var e,t=n.createElement("div"),o={animation:"animationName",OAnimation:"oAnimationName",MozAnimation:"mozAnimationName",WebkitAnimation:"webkitAnimationName"};for(e in o)if(t.style[e]!==i)return x.verbose("Determined animation vendor name property",o[e]),o[e];return!1},animationEvent:function(){var e,t=n.createElement("div"),o={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in o)if(t.style[e]!==i)return x.verbose("Determined animation vendor end event",o[e]),o[e];return!1}},can:{transition:function(){var t=e("<div>").addClass(C.attr("class")).appendTo(e("body")),n=t.css(b),i=t.addClass(g.inward).css(b);return n!=i?(x.debug("In/out transitions exist"),t.remove(),!0):(x.debug("Static animation found"),t.remove(),!1)}},is:{animating:function(){return C.hasClass(g.animating)},looping:function(){return C.hasClass(g.looping)},visible:function(){return C.is(":visible")},supported:function(){return b!==!1&&v!==!1}},hide:function(){x.verbose("Hiding element"),C.removeClass(g.visible).addClass(g.transition).addClass(g.hidden),x.repaint()},show:function(){x.verbose("Showing element"),C.removeClass(g.hidden).addClass(g.transition).addClass(g.visible),x.repaint()},start:function(){x.verbose("Starting animation"),C.removeClass(g.disabled)},stop:function(){x.debug("Stopping animation"),C.addClass(g.disabled)},toggle:function(){x.debug("Toggling play status"),C.toggleClass(g.disabled)},setting:function(n,o){if(e.isPlainObject(n))e.extend(!0,t,n);else{if(o===i)return t[n];t[n]=o}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},debug:function(){t.debug&&(t.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,t.name+":"),x.debug.apply(console,arguments)))},verbose:function(){t.verbose&&t.debug&&(t.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,t.name+":"),x.verbose.apply(console,arguments)))},error:function(){x.error=Function.prototype.bind.call(console.error,console,t.name+":"),x.error.apply(console,arguments)},performance:{log:function(e){var n,i,o;t.performance&&(n=(new Date).getTime(),o=s||n,i=n-o,s=n,c.push({Element:T,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,100)},display:function(){var n=t.name+":",o=0;s=!1,clearTimeout(x.performance.timer),e.each(c,function(e,t){o+=t["Execution Time"]}),n+=" "+o+"ms",r&&(n+=" '"+r+"'"),a.size()>1&&(n+=" ("+a.size()+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,c;return n=n||d,a=T||a,"string"==typeof t&&m!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(m[a])&&n!=r)m=m[a];else{if(m[a]!==i)return s=m[a],!1;if(!e.isPlainObject(m[o])||n==r)return m[o]!==i?(s=m[o],!1):!1;m=m[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s||!1}},x.initialize()}),o!==i?o:this},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!0,performance:!0,namespace:"transition",complete:function(){},onShow:function(){},onHide:function(){},animation:"fade",duration:"700ms",queue:!0,className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"ui transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified.",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,n,i){e.fn.video=function(t){var n,o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1);return o.each(function(){var d,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.video.settings,t):e.extend({},e.fn.video.settings),m=f.selector,p=f.className,g=f.error,h=f.metadata,v=f.namespace,b="."+v,y="module-"+v,w=e(this),x=w.find(m.placeholder),C=w.find(m.playButton),T=w.find(m.embed),k=this,S=w.data(y);d={initialize:function(){d.debug("Initializing video"),x.on("click"+b,d.play),C.on("click"+b,d.play),d.instantiate()},instantiate:function(){d.verbose("Storing instance of module",d),S=d,w.data(y,d)},destroy:function(){d.verbose("Destroying previous instance of video"),w.removeData(y).off(b),x.off(b),C.off(b)},change:function(e,t,n){d.debug("Changing video to ",e,t,n),w.data(h.source,e).data(h.id,t).data(h.url,n),f.onChange()},reset:function(){d.debug("Clearing video embed and showing placeholder"),w.removeClass(p.active),T.html(" "),x.show(),f.onReset()},play:function(){d.debug("Playing video");var e=w.data(h.source)||!1,t=w.data(h.url)||!1,n=w.data(h.id)||!1;T.html(d.generate.html(e,n,t)),w.addClass(p.active),f.onPlay()},generate:{html:function(e,t,n){d.debug("Generating embed html");var i,o="auto"==f.width?w.width():f.width,a="auto"==f.height?w.height():f.height;return e&&t?"vimeo"==e?i='<iframe src="http://player.vimeo.com/video/'+t+"?="+d.generate.url(e)+'" width="'+o+'" height="'+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':"youtube"==e&&(i='<iframe src="http://www.youtube.com/embed/'+t+"?="+d.generate.url(e)+'" width="'+o+'" height="'+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):n?i='<iframe src="'+n+'" width="'+o+'" height="'+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':d.error(g.noVideo),i},url:function(e){var t=f.api?1:0,n=f.autoplay?1:0,i=f.hd?1:0,o=f.showUI?1:0,a=f.showUI?0:1,r="";return"vimeo"==e&&(r="api="+t+"&amp;title="+o+"&amp;byline="+o+"&amp;portrait="+o+"&amp;autoplay="+n,f.color&&(r+="&amp;color="+f.color)),"ustream"==e?(r="autoplay="+n,f.color&&(r+="&amp;color="+f.color)):"youtube"==e&&(r="enablejsapi="+t+"&amp;autoplay="+n+"&amp;autohide="+a+"&amp;hq="+i+"&amp;modestbranding=1",f.color&&(r+="&amp;color="+f.color)),r}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},debug:function(){f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Element:k,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,100)},display:function(){var t=f.name+":",n=0;r=!1,clearTimeout(d.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.size()>1&&(t+=" ("+o.size()+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,o,a){var r,s,c;return o=o||u,a=k||a,"string"==typeof t&&S!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(S[a])&&n!=r)S=S[a];else{if(S[a]!==i)return s=S[a],!1;if(!e.isPlainObject(S[o])||n==r)return S[o]!==i?(s=S[o],!1):(d.error(g.method,t),!1);S=S[o]}})),e.isFunction(s)?c=s.apply(a,o):s!==i&&(c=s),e.isArray(n)?n.push(c):n!==i?n=[n,c]:c!==i&&(n=c),s}},l?(S===i&&d.initialize(),d.invoke(c)):(S!==i&&d.destroy(),d.initialize())}),n!==i?n:this},e.fn.video.settings={name:"Video",namespace:"video",debug:!0,verbose:!0,performance:!0,metadata:{source:"source",id:"id",url:"url"},onPlay:function(){},onReset:function(){},onChange:function(){},onPause:function(){},onStop:function(){},width:"auto",height:"auto",autoplay:!1,color:"#442359",hd:!0,showUI:!1,api:!0,error:{noVideo:"No video specified",method:"The method you called is not defined"},className:{active:"active"},selector:{embed:".embed",placeholder:".placeholder",playButton:".play"}}}(jQuery,window,document);var Showdown={extensions:{}},forEach=Showdown.forEach=function(e,t){if("function"==typeof e.forEach)e.forEach(t);else{var n,i=e.length;for(n=0;i>n;n++)t(e[n],n,e)}},stdExtName=function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(e){var t,n,i,o=0,a=[],r=[];if("undefind"!=typeof module&&"undefined"!=typeof exports&&"undefind"!=typeof require){var s=require("fs");if(s){var c=s.readdirSync((__dirname||".")+"/extensions").filter(function(e){return~e.indexOf(".js")}).map(function(e){return e.replace(/\.js$/,"")});Showdown.forEach(c,function(e){var t=stdExtName(e);Showdown.extensions[t]=require("./extensions/"+e)})}}e&&e.extensions&&Showdown.forEach(e.extensions,function(e){if("string"==typeof e&&(e=Showdown.extensions[stdExtName(e)]),"function"!=typeof e)throw"Extension '"+e+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(e(this),function(e){e.type?"language"===e.type||"lang"===e.type?a.push(e):("output"===e.type||"html"===e.type)&&r.push(e):r.push(e)})}),this.makeHtml=function(e){return t={},n={},i=[],e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=q(e),e=e.replace(/^[ \t]+$/gm,""),Showdown.forEach(a,function(t){e=u(t,e)}),e=k(e),e=f(e),e=d(e),e=p(e),e=N(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),Showdown.forEach(r,function(t){e=u(t,e)
}),e};var l,u=function(e,t){if(e.regex){var n=RegExp(e.regex,"g");return t.replace(n,e.replace)}return e.filter?e.filter(t):void 0},d=function(e){return e+="~0",e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(e,i,o,a,r){return i=i.toLowerCase(),t[i]=F(o),a?a+r:(r&&(n[i]=r.replace(/"/g,"&quot;")),"")}),e=e.replace(/~0/,"")},f=function(e){return e=e.replace(/\n/g,"\n\n"),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,m),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,m),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,m),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,m),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,m),e=e.replace(/\n\n/g,"\n")},m=function(e,t){var n=t;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(i.push(n)-1)+"K\n\n"},p=function(e){e=x(e);var t=S("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,t),e=C(e),e=T(e),e=$(e),e=f(e),e=P(e)},g=function(e){return e=A(e),e=h(e),e=D(e),e=y(e),e=v(e),e=j(e),e=F(e),e=z(e),e=e.replace(/  +\n/g," <br />\n")},h=function(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=_(t,"\\`*_")})},v=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,b),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,b),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,b)},b=function(e,i,o,a,r,s,c,l){void 0==l&&(l="");var u=i,d=o,f=a.toLowerCase(),m=r,p=l;if(""==m)if(""==f&&(f=d.toLowerCase().replace(/ ?\n/g," ")),m="#"+f,void 0!=t[f])m=t[f],void 0!=n[f]&&(p=n[f]);else{if(!(u.search(/\(\s*\)$/m)>-1))return u;m=""}m=_(m,"*_");var g='<a href="'+m+'"';return""!=p&&(p=p.replace(/"/g,"&quot;"),p=_(p,"*_"),g+=' title="'+p+'"'),g+=">"+d+"</a>"},y=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,w),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,w)},w=function(e,i,o,a,r,s,c,l){var u=i,d=o,f=a.toLowerCase(),m=r,p=l;if(p||(p=""),""==m){if(""==f&&(f=d.toLowerCase().replace(/ ?\n/g," ")),m="#"+f,void 0==t[f])return u;m=t[f],void 0!=n[f]&&(p=n[f])}d=d.replace(/"/g,"&quot;"),m=_(m,"*_");var g='<img src="'+m+'" alt="'+d+'"';return p=p.replace(/"/g,"&quot;"),p=_(p,"*_"),g+=' title="'+p+'"',g+=" />"},x=function(e){function t(e){return e.replace(/[^\w]/g,"").toLowerCase()}return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,n){return S('<h1 id="'+t(n)+'">'+g(n)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,n){return S('<h2 id="'+t(n)+'">'+g(n)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,n,i){var o=n.length;return S("<h"+o+' id="'+t(i)+'">'+g(i)+"</h"+o+">")})},C=function(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return o?e=e.replace(t,function(e,t,n){var i=t,o=n.search(/[*+-]/g)>-1?"ul":"ol";i=i.replace(/\n{2,}/g,"\n\n\n");var a=l(i);return a=a.replace(/\s+$/,""),a="<"+o+">"+a+"</"+o+">\n"}):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(t,function(e,t,n,i){var o=t,a=n,r=i.search(/[*+-]/g)>-1?"ul":"ol",a=a.replace(/\n{2,}/g,"\n\n\n"),s=l(a);return s=o+"<"+r+">\n"+s+"</"+r+">\n"})),e=e.replace(/~0/,"")};l=function(e){return o++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,t,n,i,o){var a=o,r=t;return r||a.search(/\n{2,}/)>-1?a=p(R(a)):(a=C(R(a)),a=a.replace(/\n$/,""),a=g(a)),"<li>"+a+"</li>\n"}),e=e.replace(/~0/g,""),o--,e};var T=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var i=t,o=n;return i=E(R(i)),i=q(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),i="<pre><code>"+i+"\n</code></pre>",S(i)+o}),e=e.replace(/~0/,"")},k=function(e){return e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,t,n){var i=t,o=n;return o=E(o),o=q(o),o=o.replace(/^\n+/g,""),o=o.replace(/\n+$/g,""),o="<pre><code"+(i?' class="'+i+'"':"")+">"+o+"\n</code></pre>",S(o)}),e=e.replace(/~0/,"")},S=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(i.push(e)-1)+"K\n\n"},A=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,i){var o=i;return o=o.replace(/^([ \t]*)/g,""),o=o.replace(/[ \t]*$/g,""),o=E(o),t+"<code>"+o+"</code>"})},E=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=_(e,"*_{}[]\\",!1)},z=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},$=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=p(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),S("<blockquote>\n"+n+"\n</blockquote>")})},P=function(e){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var t=e.split(/\n{2,}/g),n=[],o=t.length,a=0;o>a;a++){var r=t[a];r.search(/~K(\d+)K/g)>=0?n.push(r):r.search(/\S/)>=0&&(r=g(r),r=r.replace(/^([ \t]*)/g,"<p>"),r+="</p>",n.push(r))}o=n.length;for(var a=0;o>a;a++)for(;n[a].search(/~K(\d+)K/)>=0;){var s=i[RegExp.$1];s=s.replace(/\$/g,"$$$$"),n[a]=n[a].replace(/~K\d+K/,s)}return n.join("\n\n")},F=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},D=function(e){return e=e.replace(/\\(\\)/g,I),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,I)},j=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,t){return O(N(t))})},O=function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"==e)e=t[Math.floor(2*Math.random())](e);else if(":"!=e){var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')},N=function(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})},R=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")},q=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,t){for(var n=t,i=4-n.length%4,o=0;i>o;o++)n+=" ";return n}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")},_=function(e,t,n){var i="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var o=RegExp(i,"g");return e=e.replace(o,I)},I=function(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}},"undefined"!=typeof module&&(module.exports=Showdown),"function"==typeof define&&define.amd&&define("showdown",function(){return Showdown});var switchTab=function(e){function t(e){for(var t=e.tabIdArr,n=e.tabClass,i=e.activeClass,o=e.contentId,a=0,r=t.length;r>a;a++)document.getElementById(t[a]).onclick=function(t){var a=t.target.id,r={tab_state:a};history.pushState(r,a,"#"+a),console.log(history),console.log(history.state),e.activeColor(n,i,a),e.fetchContent(e.getUrl(a),o)};window.addEventListener("popstate",function(){var t=e.showFirst;""!==window.location.hash&&(t=window.location.hash.substring(1)),e.activeColor(n,i,t),e.fetchContent(e.getUrl(t),o)},!1)}this.tabClass=e.tabClass||"",this.contentId=e.contentId||"",this.activeClass=e.activeClass||"",this.showFirst=e.showFirst||"",this.tabIdArr=e.tabId||[],this.showFirstFn(this),this.state(this),t(this)};switchTab.prototype.state=function(e){var t=e.contentId,n=e.tabClass,i=e.activeClass,t=e.contentId,o=window.location.hash,a=o.substring(1);o&&(this.activeColor(n,i,a),this.fetchContent(this.getUrl(a),t))},switchTab.prototype.getUrl=function(e){return document.getElementById(e).getAttribute("tab-url")},switchTab.prototype.fetchContent=function(e,t){var n;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&(document.getElementById(t).innerHTML=n.responseText)},n.open("GET",e,!0),n.send()},switchTab.prototype.activeColor=function(e,t,n){for(var i=document.getElementsByClassName(e),o=0;i.length>o;o++)i[o].className=i[o].className.replace(t,"");document.getElementById(n).className+=" "+t},switchTab.prototype.showFirstFn=function(e){var t=e.showFirst,n=e.tabClass,i=e.activeClass,o=e.contentId;e.activeColor(n,i,t),e.fetchContent(e.getUrl(t),o)};